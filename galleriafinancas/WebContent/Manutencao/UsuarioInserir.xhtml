<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="./MenuManutencao.xhtml">
	<ui:define name="conteudo">
		<h:form id="form">
			<script src="../resources/js/functions.js"></script>
			<p:panel id="PanelUsuário"
				header="Usuário - #{usuarioMB.tituloPainel}"
				style="margin-bottom:10px;">
				<p:focus />
				<p:messages />
				<h:panelGrid columns="2">
					<h:outputLabel for="name" value="Nome: " class="campoRequerido" />
					<p:inputText id="name" value="#{usuarioMB.objetoUsuario.name}"
						required="true" label="Nome" style="FONT-SIZE: 10pt;">
						<f:validateLength maximum="254" minimum="1" />
					</p:inputText>
					<h:outputLabel for="login" value="Login: " class="campoRequerido" />
					<p:inputText id="login" value="#{usuarioMB.objetoUsuario.login}"
						required="true" label="Login" style="FONT-SIZE: 10pt;"
						maxlength="10">
						<f:validateLength maximum="10" minimum="1" />
					</p:inputText>

					<h:outputLabel for="pwd" value="Senha: " class="campoRequerido" />
					<p:password id="pwd" value="#{usuarioMB.objetoUsuario.password}"
						label="Senha" required="true"
						promptLabel="Por favor, digite a senha." weakLabel="Fácil"
						goodLabel="Regular" strongLabel="Díficil" maxlength="10"
						redisplay="true" feedback="true" inline="true">
						<f:validateLength maximum="10" minimum="1" />
					</p:password>

					<h:outputLabel for="Administrador" value="Administrador: "
						class="labelBold" />
					<p:selectBooleanButton id="Administrador"
						value="#{usuarioMB.objetoUsuario.administrador}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaPosto" value="Operador do Posto: "
						class="labelBold" />
					<p:selectBooleanButton id="GerenciaPosto"
						value="#{usuarioMB.objetoUsuario.userPosto}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaLocacao"
						value="Gerencia Locação de Imóveis: " class="labelBold" />
					<p:selectBooleanButton id="GerenciaLocacao"
						value="#{usuarioMB.objetoUsuario.userLocacao}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaCobrança"
						value="Gerencia Sistema de Cobrança: " class="labelBold" />
					<p:selectBooleanButton id="GerenciaCobrança"
						value="#{usuarioMB.objetoUsuario.userCobranca}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">
						<p:ajax event="change"
							update="GerenciaCobrançaEdita GerenciaCobrançaBaixa" />
					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaCobrançaEdita"
						value="Sistema de Cobrança - Edita Contrato: " class="labelBold" />
					<p:selectBooleanButton id="GerenciaCobrançaEdita"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userCobrancaEdita}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaCobrançaBaixa"
						value="Sistema de Cobrança - Baixa Parcelas: " class="labelBold" />
					<p:selectBooleanButton id="GerenciaCobrançaBaixa"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userCobrancaBaixa}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>
					
					<h:outputLabel for="GerenciaCobrançaLead"
						value="Sistema de Cobrança - Leads: " class="labelBold" />
					<p:selectBooleanButton id="GerenciaCobrançaLead"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userCobrancaLead}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaPreContratos"
						value="Sistema de Cobrança - Gerencia Pré-Contratos: "
						class="labelBold" />
					<p:selectBooleanButton id="GerenciaPreContratos"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userPreContrato}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">
						<p:ajax event="change" update="PanelResponsavel" />
					</p:selectBooleanButton>
					
					<h:outputLabel for="GerenciaPreContratosIUGU"
						value="Sistema de Cobrança - Gerencia Pré-Contratos + IUGU: "
						class="labelBold" />
					<p:selectBooleanButton id="GerenciaPreContratosIUGU"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userPreContratoIUGU}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">
						<p:ajax event="change" update="PanelResponsavel" />
					</p:selectBooleanButton>

					<h:outputLabel for="GerenciaPreContratosAnalista"
						value="Sistema de Cobrança - Analista Pré-Contratos: "
						class="labelBold" />
					<p:selectBooleanButton id="GerenciaPreContratosAnalista"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userPreContratoAnalista}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">
						<p:ajax event="change" update="PanelResponsavel" />
					</p:selectBooleanButton>
					
					<h:outputLabel for="GerenciaCobrançaIUGU"
						value="Sistema de Cobrança - IUGU: " class="labelBold" />
					<p:selectBooleanButton id="GerenciaCobrançaIUGU"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userCobrancaIugu}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">

					</p:selectBooleanButton>

					<h:outputLabel for="IuguPosto" value="Cobranças IUGU Postos "
						class="labelBold" />
					<p:selectBooleanButton id="IuguPosto"
						disabled="!#{usuarioMB.objetoUsuario.userCobranca}"
						value="#{usuarioMB.objetoUsuario.userIuguPosto}" onLabel="Sim"
						offLabel="Não" onIcon="ui-icon-check" offIcon="ui-icon-close"
						style="width:60px">
					</p:selectBooleanButton>
				</h:panelGrid>
				<p:panel id="PanelResponsavel"
					header="Sistema de Cobrança - Gerencia Pré-Contratos"
					style="margin-bottom:10px;margin-top:20px;">
					<h:panelGrid columns="2">
						<h:outputLabel for="responsavel" value="Código do Responsável: "
							rendered="#{usuarioMB.objetoUsuario.userPreContrato}" />
						<p:inputText id="responsavel"
							value="#{usuarioMB.objetoUsuario.codigoResponsavel}"
							label="Código do Responsável" style="FONT-SIZE: 10pt;"
							maxlength="10"
							rendered="#{usuarioMB.objetoUsuario.userPreContrato}" />
					</h:panelGrid>
				</p:panel>

				<p:panel id="Restricoes" header="Restrições de Acesso"
					style="margin-bottom:10px;">
					<h:panelGrid columns="2">
						<h:outputLabel for="ip" value="IP Autorizado: " />
						<p:inputText id="ip" value="#{usuarioMB.objetoUsuario.ip}"
							label="Nome" style="FONT-SIZE: 10pt;">
							<f:validateLength maximum="254" minimum="1" />
						</p:inputText>
						
						<h:outputLabel for="saberip" value="Não sabe seu IP? " />
						<a href="https://www.meuip.com.br/" class="linkPDF" target="_blank"><b>clique aqui</b></a>
	
						<h:outputLabel for="diasSemana"
							value="Dias da Semana Autorizados: " />
						<p:selectCheckboxMenu id="multiple"
							value="#{usuarioMB.selectedDiasSemana}" label="Dias da Semana"
							multiple="true" filter="true" filterMatchMode="startsWith"
							panelStyle="width:550px">
							<f:selectItems value="#{usuarioMB.diasSemana}" />
						</p:selectCheckboxMenu>					
						<h:outputLabel for="timeStart" value="Hora Inicio Autorizada:" />
						<p:datePicker id="timeStart"
							value="#{usuarioMB.objetoUsuario.horaInicioPermissaoAcesso}"
							timeOnly="true" pattern="HH:mm" />	
						<h:outputLabel for="timeFinish" value="Hora Término Autorizada:" />
						<p:datePicker id="timeFinish"
							value="#{usuarioMB.objetoUsuario.horaFimPermissaoAcesso}"
							timeOnly="true" pattern="HH:mm" />
					</h:panelGrid>
				</p:panel>
				
				<p:panel id="Responsaveis" header="Acesso aos dados do(s) Responsável(eis):"
					style="margin-bottom:10px;">
					<h:panelGrid columns="2">
						 <p:selectCheckboxMenu id="responsavelList" value="#{usuarioMB.selectedResponsaveis}" label="Selecione os responsáveis ..."
		                              filter="true" filterMatchMode="contains" panelStyle="width:550px" style="width:550px;"  converter="ResponsavelConverter">
				            <f:selectItems value="#{usuarioMB.responsaveis}" var="resp" itemLabel="#{resp.nome}" itemValue="#{resp}" />
				        </p:selectCheckboxMenu>
				    </h:panelGrid>
				</p:panel>
				
				<p:panel id="GoogleAuthenticator" header="Google Authenticator"
					style="margin-bottom:10px;">
					<h:panelGrid columns="2">
						<h:outputLabel for="twofactor" value="Habilitar Autenticação Google: " />
						<p:selectBooleanButton id="twofactor" value="#{usuarioMB.objetoUsuario.twoFactorAuth}" onLabel="Sim" offLabel="Não" style="width:60px" />
						<h:outputLabel for="qrCode" value="QR Code: " />
						<img src="#{usuarioMB.objetoUsuario.urlQRCode}"/>
					</h:panelGrid>
				</p:panel>
			</p:panel>

			<div align="center">
				<p:commandButton value="Ok" ajax="false" icon="ui-icon-check"
					action="#{usuarioMB.inserir()}" style="TEXT-DECORATION: bold;" />
				<p:spacer height="10" />
				<p:commandButton value="Cancelar" ajax="false" immediate="true"
					icon="ui-icon-cancel" action="UsuarioConsultar.xhtml"
					style="TEXT-DECORATION: bold; " />
			</div>
		</h:form>
	</ui:define>
</ui:composition>
