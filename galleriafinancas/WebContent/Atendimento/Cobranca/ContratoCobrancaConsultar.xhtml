<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:shiro="http://shiro.apache.org/tags"
	xmlns:p="http://primefaces.org/ui" template="../MenuAtendimento.xhtml">

	<ui:define name="conteudo">
		<h:form id="form" style="margin-bottom:10px;">
			<script src="#{request.contextPath}/resources/js/functions.js"></script>
			<script src="#{request.contextPath}/resources/js/locale-primefaces.js" library="javascript"></script>
			<script type="text/javascript"
					src="/banking/faces/javax.faces.resource/jquery/jquery-plugins.js?ln=primefaces&amp;v=4.0"></script>
			<link type="text/css" rel="stylesheet"
					href="/banking/faces/javax.faces.resource/primefaces.css?ln=primefaces&amp;v=4.0" />
			<p:messages id="mensagens" showDetail="true" />
						<p:panel id="PanelPDF" header="Impressão em PDF"
				style="margin-bottom:10px;" rendered="#{impressoesPDFMB.pdfCadastroPessoaFisicaGerado}">
				<p:focus />
				
				
				<p:messages />
				<h:panelGrid columns="2">
					<p:dialog modal="true" widgetVar="statusDialog" header="Status"
						draggable="false" closable="false" resizable="false">
						<p:graphicImage name="image/ajaxloadingbar.gif" />
					</p:dialog>

					<h:form>
						<p:commandButton value="Ficha Principal" ajax="false"
							onclick="PrimeFaces.monitorDownload(start, stop);"
							icon="ui-icon-arrowthick-1-s">
							<p:fileDownload value="#{impressoesPDFMB.file}" />
						</p:commandButton>
						<p:commandButton value="Ficha Conjuge" ajax="false"
							onclick="PrimeFaces.monitorDownload(start, stop);"
							icon="ui-icon-arrowthick-1-s">
							<p:fileDownload value="#{impressoesPDFMB.fileConjuge}" />
						</p:commandButton>
					</h:form>

					<script type="text/javascript">
						function start() {
							PF('statusDialog').show();
						}

						function stop() {
							PF('statusDialog').hide();
						}
					</script>

				</h:panelGrid>
			</p:panel>
			<p:panel id="ConsultaContratos" header="Contratos - Consultar | #{contratoCobrancaMB.tituloPainel}"
				style="margin-bottom:10px;">		
				<h:panelGrid columns="2">					
					<p:outputLabel for="contrato" value="Contrato: "
						styleClass="labelBold" style="margin-right: 59px;" />
					<p:inputText id="contrato"
						value="#{contratoCobrancaMB.numContrato}" label="Contrato"
						style="width:150px;" />
				</h:panelGrid>
				<h:panelGrid columns="2" style="">
					<p:panel id="Pessoas" header="Envolvidos"
						style="margin-bottom:10px;margin-top:20px;">

						<h:panelGrid columns="2" style="">
							<p:outputLabel for="Pagador" value="Pagador: "
								styleClass="labelBold" style="width: 40px;" />

							<p:selectOneListbox id="Pagador"
								value="#{contratoCobrancaMB.selectedPagador}" var="c"
								filter="true" filterMatchMode="contains" style="width: 250px;"
								scrollHeight="70" converter="pagadorRecebedorConverter">
								<f:selectItems value="#{contratoCobrancaMB.listPagadores}"
									var="pagador" itemLabel="#{pagador.nome}"
									itemValue="#{pagador}" />
								<p:column>
									<h:outputText value="#{c.nome}" />
								</p:column>
							</p:selectOneListbox>

							<p:outputLabel for="Favorecidos" value="Favorecidos: "
								styleClass="labelBold" style="width: 40px; margin-top: 20px;" />
							<p:pickList id="Favorecidos"
								value="#{contratoCobrancaMB.dualListModelRecebedores}"
								var="favorecidos" converter="primeFacesPickListConverter"
								itemValue="#{favorecidos}" itemLabel="#{favorecidos.nome}"
								showCheckbox="true" showSourceFilter="true"
								showTargetFilter="true" filterMatchMode="contains"
								style="width: 250px;margin-top: 20px;">

								<p:ajax event="transfer"
									listener="#{meuManagedBeanMB.onTransfer}" />

								<f:facet name="sourceCaption">Favorecidos</f:facet>
								<f:facet name="targetCaption">Selecionados</f:facet>

								<p:column style="width:75%;">
									<h:outputText value="#{favorecidos.nome}" />
								</p:column>
							</p:pickList>
						</h:panelGrid>
					</p:panel>
					<p:panel rendered="#{contratoCobrancaMB.tituloPainel == 'CRI 1'}"
						header="Dados da Consulta CRI 1">
						<f:facet name="header">
							<p:commandButton value="Consultar CRI 1"
								action="#{contratoCobrancaMB.consultaDadosCRI1()}"
								update="panelCRI1 ina30Form ina60Form ina90Form formGrafico prazoMinForm"/>
							<shiro:hasAnyRoles name="ROOT">
								<p:commandButton value="Mostrar Grafico" action="#{contratoCobrancaMB.createStackedGroupBarModel}" update="formGrafico"
									oncomplete="PF('graficoFidc').show();" />
								<p:commandButton value="Gerar Excel" ajax="false" update="mensagens" action="#{contratoCobrancaMB.geraRelatorioCRI1()}" />
							</shiro:hasAnyRoles>
						</f:facet>
						<h:panelGrid columns="2" id="panelCRI1" style="">
							<p:outputLabel for="TotalContratosCRI1" value="Total de Contratos: "
								styleClass="labelBold" />
							<p:outputLabel id="TotalContratosCRI1"
								value="#{contratoCobrancaMB.totalContratosConsultar}"
								styleClass="labelBold" />

							<p:outputLabel for="CarteiraCRI1" value="Volume Carteira:  "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel value="R$ " styleClass="labelBold" />
								<p:outputLabel id="CarteiraCRI1"
									value="#{contratoCobrancaMB.volumeCarteira}"
									styleClass="labelBold" converter="bigDecimalConverter" />
							</h:panelGroup>

							<p:outputLabel for="totalAVencerCRI1" value="Total a Vencer:  "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel value="R$ " styleClass="labelBold" />
								<p:outputLabel id="totalAVencerCRI1"
									value="#{contratoCobrancaMB.totalAVencer}"
									styleClass="labelBold" converter="bigDecimalConverter" />
							</h:panelGroup>

							<p:outputLabel for="porcentagem180CRI1" value="Até 180 meses: "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="porcentagem180CRI1"
									value="#{contratoCobrancaMB.porcentagem180}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="porcentagem240CRI1" value="Acima 180 meses: "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="porcentagem240CRI1"
									value="#{contratoCobrancaMB.porcentagem240}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="inadimplencia30CRI1"
								value="1 parcela em atraso: " styleClass="labelBold" />
							<h:panelGroup id="inadimplencia30CRI1">
								<p:commandLink onclick="PF('ina30Dialog').show()">
									<h:outputText
										value="#{contratoCobrancaMB.inadimplencia30Porcentagem}"
										styleClass="labelBold" converter="bigDecimalConverter" />
									<h:outputText value="% " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>


							<p:outputLabel for="inadimplencia60CRI1"
								value="2 parcelas em atraso: " styleClass="labelBold" />
							<h:panelGroup id="inadimplencia60CRI1">
								<p:commandLink onclick="PF('ina60Dialog').show()">
									<h:outputText
										value="#{contratoCobrancaMB.inadimplencia60Porcentagem}"
										styleClass="labelBold" converter="bigDecimalConverter" />
									<h:outputText value="% " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>

							<p:outputLabel for="inadimplencia90CRI1"
								value="3 ou + parcelas em atraso: " styleClass="labelBold" />
							<h:panelGroup id="inadimplencia90CRI1">
								<p:commandLink onclick="PF('ina90Dialog').show()">
									<h:outputText
										value="#{contratoCobrancaMB.inadimplencia90Porcentagem}"
										styleClass="labelBold" converter="bigDecimalConverter" />
									<h:outputText value="% " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="prazoMaxCRI1" value="Prazo Máximo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="prazoMaxCRI1"
									value="#{contratoCobrancaMB.prazoMax}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value=" Meses " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="prazoMinCRI1" value="Prazo Mínimo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:commandLink onclick="PF('prazoMinDialog').show()">
									<p:outputLabel id="prazoMinCRI1"
										value="#{contratoCobrancaMB.prazoMin}" styleClass="labelBold"
										converter="bigDecimalConverter" />
									<p:outputLabel value=" Meses " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>


							<p:outputLabel for="prazoMedioCRI1" value="Prazo Médio"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="prazoMedioCRI1"
									value="#{contratoCobrancaMB.prazoMedio}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value=" Meses " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="taxaMaxIPCACRI1" value="Taxa Máxima Pós"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMaxIPCACRI1"
									value="#{contratoCobrancaMB.taxaMaxIPCA}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMinIPCACRI1" value="Taxa Minima Pós"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMinIPCACRI1"
									value="#{contratoCobrancaMB.taxaMinIPCA}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMediaIPCACRI1" value="Taxa Média Pós"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMediaIPCACRI1"
									value="#{contratoCobrancaMB.taxaMediaIPCA}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="taxaMaxCRI1" value="Taxa Máxima Pré"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMaxCRI1"
									value="#{contratoCobrancaMB.taxaMax}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMinCRI1" value="Taxa Minima Pré"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMinCRI1"
									value="#{contratoCobrancaMB.taxaMin}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMediaCRI1" value="Taxa Média Pré"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMediaCRI1"
									value="#{contratoCobrancaMB.taxaMedia}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="ltvMaxCRI1" value="LTV Máximo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="ltvMaxCRI1" value="#{contratoCobrancaMB.ltvMax}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="ltvMinCRI1" value="LTV Mínimo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="ltvMinCRI1" value="#{contratoCobrancaMB.ltvMin}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="ltvMedioCRI1" value="LVT Médio"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="ltvMedioCRI1"
									value="#{contratoCobrancaMB.ltvMedio}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>
						</h:panelGrid>
					</p:panel>
					<p:panel rendered="#{contratoCobrancaMB.tituloPainel == 'FIDC GALLERIA'}"
						header="Dados da Consulta FIDC">
						<f:facet name="header">
							<p:commandButton value="Consultar FIDC"
								action="#{contratoCobrancaMB.consultaDadosFIDC()}"
								update="panelFidc ina30Form ina60Form ina90Form formGrafico prazoMinForm"/>
							<shiro:hasAnyRoles name="ROOT">
								<p:commandButton value="Mostrar Grafico" action="#{contratoCobrancaMB.createStackedGroupBarModel}" update="formGrafico"
									oncomplete="PF('graficoFidc').show();" />
								<p:commandButton value="Gerar Excel" ajax="false" update="mensagens" action="#{contratoCobrancaMB.geraRelatorioFIDC()}" />
							</shiro:hasAnyRoles>
						</f:facet>
						<h:panelGrid columns="2" id="panelFidc" style="">
							<p:outputLabel for="TotalContratos" value="Total de Contratos: "
								styleClass="labelBold" />
							<p:outputLabel id="TotalContratos"
								value="#{contratoCobrancaMB.totalContratosConsultar}"
								styleClass="labelBold" />

							<p:outputLabel for="Carteira" value="Volume Carteira:  "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel value="R$ " styleClass="labelBold" />
								<p:outputLabel id="Carteira"
									value="#{contratoCobrancaMB.volumeCarteira}"
									styleClass="labelBold" converter="bigDecimalConverter" />
							</h:panelGroup>

							<p:outputLabel for="totalAVencer" value="Total a Vencer:  "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel value="R$ " styleClass="labelBold" />
								<p:outputLabel id="totalAVencer"
									value="#{contratoCobrancaMB.totalAVencer}"
									styleClass="labelBold" converter="bigDecimalConverter" />
							</h:panelGroup>

							<p:outputLabel for="porcentagem180" value="Até 180 meses: "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="porcentagem180"
									value="#{contratoCobrancaMB.porcentagem180}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="porcentagem240" value="Acima 180 meses: "
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="porcentagem240"
									value="#{contratoCobrancaMB.porcentagem240}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="inadimplencia30"
								value="1 parcela em atraso: " styleClass="labelBold" />
							<h:panelGroup id="inadimplencia30">
								<p:commandLink onclick="PF('ina30Dialog').show()">
									<h:outputText
										value="#{contratoCobrancaMB.inadimplencia30Porcentagem}"
										styleClass="labelBold" converter="bigDecimalConverter" />
									<h:outputText value="% " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>


							<p:outputLabel for="inadimplencia60"
								value="2 parcelas em atraso: " styleClass="labelBold" />
							<h:panelGroup id="inadimplencia60">
								<p:commandLink onclick="PF('ina60Dialog').show()">
									<h:outputText
										value="#{contratoCobrancaMB.inadimplencia60Porcentagem}"
										styleClass="labelBold" converter="bigDecimalConverter" />
									<h:outputText value="% " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>

							<p:outputLabel for="inadimplencia90"
								value="3 ou + parcelas em atraso: " styleClass="labelBold" />
							<h:panelGroup id="inadimplencia90">
								<p:commandLink onclick="PF('ina90Dialog').show()">
									<h:outputText
										value="#{contratoCobrancaMB.inadimplencia90Porcentagem}"
										styleClass="labelBold" converter="bigDecimalConverter" />
									<h:outputText value="% " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="prazoMax" value="Prazo Máximo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="prazoMax"
									value="#{contratoCobrancaMB.prazoMax}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value=" Meses " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="prazoMin" value="Prazo Mínimo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:commandLink onclick="PF('prazoMinDialog').show()">
									<p:outputLabel id="prazoMin"
										value="#{contratoCobrancaMB.prazoMin}" styleClass="labelBold"
										converter="bigDecimalConverter" />
									<p:outputLabel value=" Meses " styleClass="labelBold" />
								</p:commandLink>
							</h:panelGroup>


							<p:outputLabel for="prazoMedio" value="Prazo Médio"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="prazoMedio"
									value="#{contratoCobrancaMB.prazoMedio}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value=" Meses " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="taxaMaxIPCA" value="Taxa Máxima Pós"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMaxIPCA"
									value="#{contratoCobrancaMB.taxaMaxIPCA}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMinIPCA" value="Taxa Minima Pós"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMinIPCA"
									value="#{contratoCobrancaMB.taxaMinIPCA}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMediaIPCA" value="Taxa Média Pós"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMediaIPCA"
									value="#{contratoCobrancaMB.taxaMediaIPCA}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="taxaMax" value="Taxa Máxima Pré"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMax"
									value="#{contratoCobrancaMB.taxaMax}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMin" value="Taxa Minima Pré"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMin"
									value="#{contratoCobrancaMB.taxaMin}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="taxaMedia" value="Taxa Média Pré"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="taxaMedia"
									value="#{contratoCobrancaMB.taxaMedia}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel value=" _________________________ "
								styleClass="labelBold" />
							<p:outputLabel value="  _________________________"
								styleClass="labelBold" />

							<p:outputLabel for="ltvMax" value="LTV Máximo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="ltvMax" value="#{contratoCobrancaMB.ltvMax}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="ltvMin" value="LTV Mínimo"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="ltvMin" value="#{contratoCobrancaMB.ltvMin}"
									styleClass="labelBold" converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>

							<p:outputLabel for="ltvMedio" value="LVT Médio"
								styleClass="labelBold" />
							<h:panelGroup>
								<p:outputLabel id="ltvMedio"
									value="#{contratoCobrancaMB.ltvMedio}" styleClass="labelBold"
									converter="bigDecimalConverter" />
								<p:outputLabel value="% " styleClass="labelBold" />
							</h:panelGroup>
						</h:panelGrid>
					</p:panel>
				</h:panelGrid>

				<h:panelGrid columns="3">
					<p:commandButton value="Consultar"
						ajax="false"
						action="#{contratoCobrancaMB.geraConsultaContratos}"
						image="ui-icon ui-icon-check"
						update=":form:ConsultaContratosResultados"
						style="TEXT-DECORATION: bold;" />
					<p:spacer width="25"></p:spacer>
					<p:commandButton value="Limpar Consulta"
						ajax="false"
						action="#{contratoCobrancaMB.clearFiltersConsultaContratos}"
						update=":form:ConsultaContratos :form:ConsultaContratosResultados"
						image="ui-icon ui-icon-check"
						style="TEXT-DECORATION: bold;" />
				</h:panelGrid>
			</p:panel>
			<p:panel id="ConsultaContratosResultados" header="Contratos - Consultar" style="margin-bottom:10px;">		    		    
                 <p:dataTable id="dtContratos" var="contratos" value="#{contratoCobrancaMB.contratos}" selection="" emptyMessage="" sortBy="#{contratos.dataContrato}" sortOrder="descending"
   		         reflow="true"
   		         rows="10"
                 paginator="true"
                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                 rowsPerPageTemplate="10,50,100">
			        <f:facet name="header">
						<p:commandButton value="Adicionar" ajax="false" icon="ui-icon-plus" action="#{contratoCobrancaMB.clearFieldsNew}">
							<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="false" />
						</p:commandButton>
			        </f:facet>                 
                	<p:column style="text-align: center;width:105px;" headerText="Contrato" filterBy="#{contratos.numeroContrato}" filterMatchMode="contains" sortBy="#{contratos.numeroContrato}">
			            <h:outputText value="#{contratos.numeroContrato}" />
			        </p:column>
			        <p:column style="text-align: center;" headerText="Data Contrato" sortBy="#{contratos.dataContrato}">
			            <h:outputText value="#{contratos.dataContrato}" >			            	
			            	<f:convertDateTime locale="pt_BR"  />
			            	<f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
			            </h:outputText>
			        </p:column>		
			        <p:column style="text-align: center;" headerText="Pagador" filterBy="#{contratos.pagador.nome}" filterMatchMode="contains" >
			            <h:outputText value="#{contratos.pagador.nome}" />
			        </p:column>	        
			        <p:column styleClass="colunaResponsiva">	
			       		<shiro:hasAnyRoles name="PRECOBRANCA, ASSISTENTEFINANCEIRO">  
				        	<p:commandButton action="#{contratoCobrancaMB.clearFieldsView}" ajax="false" icon="ui-icon-print" value="Imprimir" title="Imprimir">
				        		<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />  			        		
				        		<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="false" />
				        		<f:setPropertyActionListener target="#{contratoCobrancaMB.deleteMode}" value="false" />
			                </p:commandButton>
			                <p:spacer width="10" height="10"/>		
			            </shiro:hasAnyRoles>        
		                <shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">  
			                <p:commandButton action="#{contratoCobrancaMB.clearFieldsEditar}" ajax="false" icon="ui-icon-pencil" value="Editar" title="Editar">
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="true" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.deleteMode}" value="false" />
			                </p:commandButton>
			                <p:spacer width="10" height="10"/>	
		                </shiro:hasAnyRoles>	
		                <shiro:hasAnyRoles name="PRECOBRANCA, ASSISTENTEFINANCEIRO">  	                
			                <p:commandButton action="#{contratoCobrancaMB.clearFieldsBaixar}" ajax="false" icon="fa fa-fw fa-hospital-o" value="Boleto IUGU" title="Gerar Boleto IUGU">
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="true" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.deleteMode}" value="false" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.origemTelaBaixar}" value="CobrancaConsultar" />
			                </p:commandButton>	            		                		               
			                <p:spacer width="10" height="10"/>
			            </shiro:hasAnyRoles>		                	                						
						<shiro:hasAnyRoles name="ROOT, COBRANCA_BAIXA">  	                
			                <p:commandButton action="#{contratoCobrancaMB.clearFieldsBaixar}" ajax="false" icon="ui-icon-check" value="Baixar" title="Baixar Parcela">
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="true" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.deleteMode}" value="false" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.origemTelaBaixar}" value="CobrancaConsultar" />
			                </p:commandButton>	            		                		               
			                <p:spacer width="10" height="10"/>
			            </shiro:hasAnyRoles>
			            <shiro:hasAnyRoles name="ROOT">
			                <p:commandButton action="#{contratoCobrancaMB.clearFieldsExcluir}" ajax="false" icon="ui-icon-trash" value="Excluir" title="Excluir">
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="false" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.deleteMode}" value="true" />
			                </p:commandButton>
		                </shiro:hasAnyRoles> 
		                <p:spacer width="10" height="10"/>
		                <p:commandButton onclick="PF('observacoesDialog').show();" value="Observação" title="Observação" icon="ui-icon-plus" update=":formObservacoes">		                	
		                	<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />
		                	<f:setPropertyActionListener target="#{contratoCobrancaMB.observacaoContrato}" value="#{contratoCobrancaMB.tituloPainel}" />		                	
		                </p:commandButton>	
		                <p:spacer width="10" height="10"/> 
		                <shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">  
			                <p:commandButton action="#{ipcaMB.reProcessaIPCAContrato(contratos)}" icon="ui-icon-calculator" value="Corrigir IPCA" title="Corrigir IPCA" update=":form:mensagens">
			                    <p:confirm header="Confirmação" message="Deseja realmente corrigir este contrato pelo IPCA?" icon="ui-icon-alert" />		                	
			                </p:commandButton> 
			                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
						        <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
						        <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-cancel" />
					    	</p:confirmDialog>   
		                </shiro:hasAnyRoles>
		                <p:spacer width="10" height="10"/>
		                <shiro:hasAnyRoles name="ROOT, PRECOBRANCAANALISTA">  	                
			                <p:commandButton oncomplete="PF('seguradosDialog').show();" action="#{contratoCobrancaMB.clearFieldsSegurados}" update="formSegurados" icon="ui-icon-check" value="Segurados" >
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="true" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.deleteMode}" value="false" />
			                	<f:setPropertyActionListener target="#{contratoCobrancaMB.origemTelaBaixar}" value="CobrancaConsultar" />
			                </p:commandButton>	            		                		               
			                <p:spacer width="10" height="10"/>
			            </shiro:hasAnyRoles>   
		             	<shiro:hasAnyRoles name="ROOT">	
		             		<p:spacer height="10"/>
		                	<p:commandButton onclick="PF('alterarEmpresaDialog').show();"
								icon="ui-icon-video"
								update=":formAlterarEmpresa"
								style="height: 25px;width: 100px;"
								value="Empresa" title="Empresa">
								<f:setPropertyActionListener target="#{contratoCobrancaMB.objetoContratoCobranca}" value="#{contratos}" />								
							</p:commandButton>
						</shiro:hasAnyRoles>               
		            </p:column>			        		               		        			        			           			 		
			        <f:facet name="footer">
						<p:commandButton value="Adicionar" ajax="false" icon="ui-icon-plus" action="#{contratoCobrancaMB.clearFieldsNew}">
							<f:setPropertyActionListener target="#{contratoCobrancaMB.updateMode}" value="false" />
						</p:commandButton>
			        </f:facet>
				</p:dataTable>
			</p:panel>
		</h:form>

		<ui:include src="../../Dialog/DialogSegurados.xhtml" />

		<p:dialog header="Observações" widgetVar="observacoesDialog" resizable="false" style="FONT-SIZE: 10pt;" width="800" responsive="true">
			<h:form id="formObservacoes">
				<p:panel id="ObservacoesPanel1" header="Observações - Inserir" style="margin-top:10px;">	
					<h:panelGrid columns="2">						
						<p:outputLabel for="numeroContrato" value="Número do Contrato:" styleClass="labelBold" style="margin-right: 59px;"/>
						<h:outputText id="numeroContrato" value="#{contratoCobrancaMB.objetoContratoCobranca.numeroContrato}" label="Número do Contrato" style="font-weight: bold; font-size: 18px;"/>
						<p:outputLabel value="Data da Observação: " styleClass="labelBold" style="font-weight: bold; font-size: 18px;"/>
					    <h:outputText value="#{contratoCobrancaMB.dataObservacao}" style="font-weight: bold; font-size: 18px;">			            	
					          <f:convertDateTime locale="pt_BR"  />
					          <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy HH:mm"/>
					    </h:outputText>
					    <p:outputLabel for="Observacao" value="Observação: " styleClass="labelBold"  style="margin-right: 59px;"/>
						<p:inputTextarea rows="2" cols="50" id="Observacao" value="#{contratoCobrancaMB.observacao}" label="Observação" onblur=""  style="width:450px;"/>
					</h:panelGrid>
					<div align="center" style="margin-top:20px;">								
						<p:commandButton value="Adicionar" ajax="false" icon="ui-icon-plus" action="#{contratoCobrancaMB.addObservacao}" update="ObservacoesPanel"/>																						
					</div>	 													
				</p:panel>
				<p:panel id="ObservacoesPanel" header="Observações - Consultar" style="margin-top:10px;">	
	   		         <p:dataTable id="dtObservacoes" var="observacoes" value="#{contratoCobrancaMB.listContratoCobrancaObservacoes}" paginator="true" rows="5" lazy="true"
	   		         	paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
	   		         	currentPageReportTemplate="( {currentPage}   de   {totalPages} )" 
	                 	rowsPerPageTemplate="5,10" selection="" emptyMessage="" sortBy="#{observacoes.data}" sortOrder="descending">               
				        <p:column style="text-align: center;" headerText="Data Inicio" sortBy="#{observacoes.data}">
				            <h:outputText value="#{observacoes.data}" >			            	
				            	<f:convertDateTime locale="pt_BR"  />
				            	<f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy HH:mm"/>
				            </h:outputText>
				        </p:column>		
				        <p:column style="text-align: center;" headerText="Usuário" filterBy="#{observacoes.usuario}" filterMatchMode="contains" sortBy="#{observacoes.usuario}">
			            	<h:outputText value="#{observacoes.usuario}" />
			        	</p:column>	    
			        	<p:column style="text-align: center;" headerText="Observação" filterBy="#{observacoes.observacao}" filterMatchMode="contains" sortBy="#{observacoes.observacao}">
			            	<h:outputText value="#{observacoes.observacao}" />
			        	</p:column>	             
				        <p:column style="width:150px;">	
				        	<shiro:hasAnyRoles name="ROOT">		        
					            <p:commandButton action="#{contratoCobrancaMB.excluirObservacao}" ajax="false" icon="ui-icon-trash" value="Excluir" title="Excluir">
					               <f:setPropertyActionListener target="#{contratoCobrancaMB.contratoCobrancaObservacoes}" value="#{observacoes}" />
					             </p:commandButton>			
					        </shiro:hasAnyRoles> 	        	            
			            </p:column>		      		               		        			        			           			 		
					</p:dataTable>	
				</p:panel>			
				<div align="center" style="margin-top:20px;margin-bottom:20px;">								
					<p:commandButton value="Voltar" image="ui-icon-arrowreturnthick-1-w" oncomplete="PF('observacoesDialog').hide();"/>																						
				</div>	  				
			</h:form>
		</p:dialog>  
		<p:dialog header="Alterar Empresa do Contrato"
			widgetVar="alterarEmpresaDialog" resizable="false"
			style="FONT-SIZE: 10pt;" width="460">
			<h:form id="formAlterarEmpresa">
				<div style="float: left; width: 75%;">
					<h:panelGrid columns="2">
						<p:outputLabel for="empresa" value="Empresa: "
							styleClass="labelBold" />
						<p:selectOneMenu id="empresa"
							value="#{contratoCobrancaMB.objetoContratoCobranca.empresa}"
							label="Status" style="width:345px;" required="true">
							<f:selectItem itemValue="" itemLabel="SELECIONE" />
							<f:selectItem itemValue="GALLERIA FINANÇAS SECURITIZADORA S.A." itemLabel="GALLERIA FINANÇAS SECURITIZADORA S.A." />
							<f:selectItem itemValue="GALLERIA CORRESPONDENTE BANCARIO EIRELI" itemLabel="GALLERIA CORRESPONDENTE BANCARIO EIRELI" />
							<f:selectItem itemValue="FIDC GALLERIA" itemLabel="FIDC GALLERIA" />
						</p:selectOneMenu>	
					</h:panelGrid>
				</div>
				<div align="center"
					style="margin-bottom: 10px; margin-top: 10px; width: 100%; float: left;">
					<p:commandButton value="Salvar Alteração"
						action="#{contratoCobrancaMB.alterarEmpresa()}"
						update=":form:msgs"
						ajax="false" icon="ui-icon-print" title="Salvar Alteração" oncomplete="PF('alterarEmpresaDialog').hide();">
					</p:commandButton>
					<p:spacer width="10" />
					<p:commandButton value="Cancelar"
						icon="ui-icon-arrowreturnthick-1-w"
						oncomplete="PF('alterarEmpresaDialog').hide();" />
				</div>
			</h:form>
		</p:dialog>
		<p:dialog header="1 Parcela em Atraso - Contratos" overflow="auto"
			widgetVar="ina30Dialog" resizable="true" style="FONT-SIZE: 13pt;"
			width="800" minWidth="800">
			<h:form id="ina30Form">
				<p:dataTable var="ina30" rows="10" paginator="true"
					currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
					value="#{contratoCobrancaMB.contratosInadimplencia30}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

					<p:column style="text-align: center" headerText="Numero Contrato" 
						filterBy="#{ina30.numeroContrato}" filterMatchMode="contains">
						<p:outputLabel value="#{ina30.numeroContrato}"
							styleClass="labelBold" style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column style="text-align: center" headerText="Pagador" 
						filterBy="#{ina30.pagador.nome}" filterMatchMode="contains">
						<p:outputLabel value="#{ina30.pagador.nome}"
							style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column>
						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsEditar}"
								ajax="false" icon="ui-icon-pencil" value="Editar" title="Editar">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina30}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_BAIXA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsBaixar}"
								ajax="false" icon="ui-icon-check" value="Baixar"
								title="Baixar Parcela">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina30}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.origemTelaBaixar}"
									value="CobrancaConsultar" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT">
							<p:commandButton
								action="#{contratoCobrancaMB.clearFieldsExcluir}" ajax="false"
								icon="ui-icon-trash" value="Excluir" title="Excluir">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina30}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="true" />
							</p:commandButton>
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton
								action="#{ipcaMB.reProcessaIPCAContrato(contratos)}"
								icon="ui-icon-calculator" value="Corrigir IPCA"
								title="Corrigir IPCA" update=":form:mensagens">
								<p:confirm header="Confirmação"
									message="Deseja realmente corrigir este contrato pelo IPCA?"
									icon="ui-icon-alert" />
							</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-cancel" />
							</p:confirmDialog>
						</shiro:hasAnyRoles>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>
		<p:dialog header="2 Parcelas em Atraso - Contratos" overflow="auto"
			widgetVar="ina60Dialog" resizable="true" style="FONT-SIZE: 13pt;"
			width="800" minWidth="800">
			<h:form id="ina60Form">
				<p:dataTable var="ina60" rows="10" paginator="true"
					currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
					value="#{contratoCobrancaMB.contratosInadimplencia60}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

					<p:column style="text-align: center" headerText="Numero Contrato"
						filterBy="#{ina60.numeroContrato}" filterMatchMode="contains">
						<p:outputLabel value="#{ina60.numeroContrato}"
							styleClass="labelBold" style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column style="text-align: center" headerText="Pagador"
						filterBy="#{ina60.pagador.nome}" filterMatchMode="contains">
						<p:outputLabel value="#{ina60.pagador.nome}"
							style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column>
						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsEditar}"
								ajax="false" icon="ui-icon-pencil" value="Editar" title="Editar">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina60}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_BAIXA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsBaixar}"
								ajax="false" icon="ui-icon-check" value="Baixar"
								title="Baixar Parcela">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina60}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.origemTelaBaixar}"
									value="CobrancaConsultar" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT">
							<p:commandButton
								action="#{contratoCobrancaMB.clearFieldsExcluir}" ajax="false"
								icon="ui-icon-trash" value="Excluir" title="Excluir">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina60}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="true" />
							</p:commandButton>
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton
								action="#{ipcaMB.reProcessaIPCAContrato(contratos)}"
								icon="ui-icon-calculator" value="Corrigir IPCA"
								title="Corrigir IPCA" update=":form:mensagens">
								<p:confirm header="Confirmação"
									message="Deseja realmente corrigir este contrato pelo IPCA?"
									icon="ui-icon-alert" />
							</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-cancel" />
							</p:confirmDialog>
						</shiro:hasAnyRoles>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>	
		<p:dialog header="3 ou Mais Parcelas em Atraso - Contratos" overflow="auto"
			widgetVar="ina90Dialog" resizable="true" style="FONT-SIZE: 13pt;"
			width="800" minWidth="800">
			<h:form id="ina90Form">
				<p:dataTable var="ina90" rows="10" paginator="true"
					currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
					value="#{contratoCobrancaMB.contratosInadimplencia90}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

					<p:column style="text-align: center"  headerText="Numero Contrato"
						filterBy="#{ina90.numeroContrato}" filterMatchMode="contains">
						<p:outputLabel value="#{ina90.numeroContrato}"
							styleClass="labelBold" style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column style="text-align: center"  headerText="Pagador"
						filterBy="#{ina90.pagador.nome}" filterMatchMode="contains">
						<p:outputLabel value="#{ina90.pagador.nome}"
							style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column>
						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsEditar}"
								ajax="false" icon="ui-icon-pencil" value="Editar" title="Editar">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina90}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_BAIXA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsBaixar}"
								ajax="false" icon="ui-icon-check" value="Baixar"
								title="Baixar Parcela">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina90}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.origemTelaBaixar}"
									value="CobrancaConsultar" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT">
							<p:commandButton
								action="#{contratoCobrancaMB.clearFieldsExcluir}" ajax="false"
								icon="ui-icon-trash" value="Excluir" title="Excluir">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{ina90}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="true" />
							</p:commandButton>
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton
								action="#{ipcaMB.reProcessaIPCAContrato(contratos)}"
								icon="ui-icon-calculator" value="Corrigir IPCA"
								title="Corrigir IPCA" update=":form:mensagens">
								<p:confirm header="Confirmação"
									message="Deseja realmente corrigir este contrato pelo IPCA?"
									icon="ui-icon-alert" />
							</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-cancel" />
							</p:confirmDialog>
						</shiro:hasAnyRoles>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>
		
		<p:dialog header="Prazo Min - Contratos" overflow="auto"
			widgetVar="prazoMinDialog" resizable="true" style="FONT-SIZE: 13pt;"
			width="800" minWidth="800">
			<h:form id="prazoMinForm">
				<p:dataTable var="prazoMin" rows="10" paginator="true"
					currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
					value="#{contratoCobrancaMB.contratoPrazoMin}"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

					<p:column style="text-align: center"  headerText="Numero Contrato"
						filterBy="#{prazoMin.numeroContrato}" filterMatchMode="contains">
						<p:outputLabel value="#{prazoMin.numeroContrato}"
							styleClass="labelBold" style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column style="text-align: center"  headerText="Pagador"
						filterBy="#{prazoMin.pagador.nome}" filterMatchMode="contains">
						<p:outputLabel value="#{prazoMin.pagador.nome}"
							style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer width="10" height="10" />
					</p:column>

					<p:column>
						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsEditar}"
								ajax="false" icon="ui-icon-pencil" value="Editar" title="Editar">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{prazoMin}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_BAIXA">
							<p:commandButton action="#{contratoCobrancaMB.clearFieldsBaixar}"
								ajax="false" icon="ui-icon-check" value="Baixar"
								title="Baixar Parcela">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{prazoMin}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="true" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.origemTelaBaixar}"
									value="CobrancaConsultar" />
							</p:commandButton>
							<p:spacer width="5" />
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT">
							<p:commandButton
								action="#{contratoCobrancaMB.clearFieldsExcluir}" ajax="false"
								icon="ui-icon-trash" value="Excluir" title="Excluir">
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.objetoContratoCobranca}"
									value="#{prazoMin}" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.updateMode}" value="false" />
								<f:setPropertyActionListener
									target="#{contratoCobrancaMB.deleteMode}" value="true" />
							</p:commandButton>
						</shiro:hasAnyRoles>

						<shiro:hasAnyRoles name="ROOT, COBRANCA_EDITA, PRECOBRANCA">
							<p:commandButton
								action="#{ipcaMB.reProcessaIPCAContrato(contratos)}"
								icon="ui-icon-calculator" value="Corrigir IPCA"
								title="Corrigir IPCA" update=":form:mensagens">
								<p:confirm header="Confirmação"
									message="Deseja realmente corrigir este contrato pelo IPCA?"
									icon="ui-icon-alert" />
							</p:commandButton>
							<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Sim" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="Não" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-cancel" />
							</p:confirmDialog>
						</shiro:hasAnyRoles>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>
		
		<p:dialog header="grafico" widgetVar="graficoFidc" resizable="true" style="FONT-SIZE: 10pt;" width="800" responsive="true">
			<h:form id="formGrafico">		
				<div align="center" style="margin-top:20px;margin-bottom:20px;">								
					 <p:barChart model="#{contratoCobrancaMB.stackedGroupBarModel}" style="width: 100%; height: 500px;"/>	
					 <p:dataTable/>																				
				</div>	  				
			</h:form>
		</p:dialog>  
	
	</ui:define>
</ui:composition>