<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:f="http://java.sun.com/jsf/core"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:p="http://primefaces.org/ui"
				xmlns:shiro="http://shiro.apache.org/tags"
			    template="/Menus/Menu.xhtml">
	<ui:define name="conteudo">  
		<h:form id="form">		
		 	<script src="#{request.contextPath}/resources/js/functions.js"></script>
		 	<script src="#{request.contextPath}/resources/js/locale-primefaces.js" library="javascript"></script>			
		 	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/css/Style.css" title="" media="all" /> 	
		 	<script src=".#{request.contextPath}/resources/js/jquery.mask.min.js"></script>	
			<script>
		        function validatePhone() {
		
		            var masks = ['(00) 00000-0000', '(00) 0000-00009'],
		                maskBehavior = function(val, e, field, options) {
		                    return val.length > 14 ? masks[0] : masks[1];
		                };
		
		            $('.phone').mask(maskBehavior, {onKeyPress:
		                        function(val, e, field, options) {
		                            field.mask(maskBehavior(val, e, field, options), options);
		                        }
		            });
		        }
		        $(document).ready(function() {
		            validatePhone();
		        }
		        );
			</script>
			
			<h:outputStylesheet >
			.labelSeguros{
				width: 128px;
			}
			.ValorSeguros{
				width: 100px;
			}
			</h:outputStylesheet>
				
			<p:panel id="PanelLocador" header="Contrato - #{contratoCobrancaMB.tituloPainel}" style="margin-bottom:10px;">
				<p:focus /> 
				<p:messages/>
				
				<h:panelGrid columns="2">	
					<p:outputLabel for="numeroContrato" value="Número do Contrato: " styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					<h:outputText id="numeroContrato" value="#{contratoCobrancaMB.objetoContratoCobranca.numeroContrato}"  autocomplete="no" label="Número do Contrato" style="font-weight: bold; font-size: 18px;"/>								
					<p:outputLabel for="dataContrato" value="Data do Contrato: " styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					<h:outputText id="dataContrato" value="#{contratoCobrancaMB.objetoContratoCobranca.dataContrato}"  autocomplete="no" style="width:250px;font-weight: bold; font-size: 18px;">			            	
				          <f:convertDateTime locale="pt_BR"  />
				          <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
				    </h:outputText>																				
				</h:panelGrid>
				
				<shiro:hasAnyRoles name="ROOT">				
					<h:panelGrid columns="2">	
						<p:outputLabel for="contratoRestritoAdm" value="Restrito ao Administrador: " styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;margin-top: 50px;"/>
						<p:selectBooleanCheckbox id="contratoRestritoAdm" value="#{contratoCobrancaMB.objetoContratoCobranca.contratoRestritoAdm}" style="margin-left: 12px;"/>
						<p:spacer width="10"/>					
					</h:panelGrid>				
				</shiro:hasAnyRoles>
		
				<p:panel id="Status" header="Check-List" style="margin-bottom:20px;">	
						
				 	<ui:fragment rendered="#{!contratoCobrancaMB.objetoContratoCobranca.analiseReprovada}">
				 		<h:panelGrid columns="2">	
							<p:steps activeIndex="#{contratoCobrancaMB.indexStepsStatusContrato}" styleClass="custom" readonly="false" >
							    <p:menuitem id="agAnaliseStep" value="Aguardando Análise" />						   				   
							    <p:menuitem id="cadastroAprovadoStep" value="Pré-Cadastro"/>
							    <p:menuitem id="pagtoLaudoConfirmadaStep" value="Laudo e Parecer Jurídico Pago"/>
							    <p:menuitem id="laudoRecebidoStep" value="Laudo e PAJU Recebido"/>								    
							    <p:menuitem id="analiseComercialStep" value="Análise Comercial"/>
							    <p:menuitem id="comentarioJuridicoStep" value="Comentário Jurídico"/>							    
							    <p:menuitem id="preComiteStep" value="Pré-Comitê"/>
							    <p:menuitem id="aprovadoComiteStep" value="Aprovado pelo comitê"/>
							    <p:menuitem id="documentosCompletosStep" value="Documentos Completos"/>
							    <p:menuitem id="ccbProntaStep" value="CCB Pronta"/>
							    <p:menuitem id="contratoConferidoStep" value="Contrato Conferido"/>
							    <p:menuitem id="agAssinaturaStep" value="Aguardando Assinatura"/>
							    <p:menuitem id="agEnvioCartorioStep" value="Aguardando Envio Cartório"/>
							    <p:menuitem id="agRegistroStep" value="Aguardando Registro"/>
							    <p:menuitem id="aprovadoStep" value="Contrato"/>			             
							</p:steps>

							<h:panelGroup id="pgSolicitar2">
								<shiro:hasAnyRoles name="ROOT,PRECOBRANCAANALISTA">  	
									<h:panelGrid columns="2">
										<ui:fragment rendered="#{contratoCobrancaMB.indexStepsStatusContrato == 14}">
											<h:panelGrid columns="2"
												style="background-color: #e4e4e4; margin-left: 20px;width: 250px; height: 110px; -webkit-border-radius: 5px;
												-moz-border-radius: 5px;
												border-radius: 5px; padding: 10px;">
												<h:panelGrid columns="1">
													<p:outputLabel styleClass="labelBold">Operação Paga</p:outputLabel>
													<shiro:hasAnyRoles name="ROOT,COBRANCA,PRECOBRANCAANALISTA">
														<p:selectBooleanButton id="operacaoPaga"
															value="#{contratoCobrancaMB.objetoContratoCobranca.operacaoPaga}"
															onLabel="Sim" offLabel="Não" onIcon="ui-icon-check"
															offIcon="ui-icon-close" style="width:=60px" />
													</shiro:hasAnyRoles>
												</h:panelGrid>
												<h:panelGrid columns="1">
													<p:outputLabel styleClass="labelBold">Pendência</p:outputLabel>
													<shiro:hasAnyRoles name="ROOT,COBRANCA,PRECOBRANCAANALISTA">
														<p:selectBooleanButton id="pendenciaPagamento"
															value="#{contratoCobrancaMB.objetoContratoCobranca.pendenciaPagamento}"
															onLabel="Sim" offLabel="Não" onIcon="ui-icon-check"
															offIcon="ui-icon-close" style="width:=60px" />
													</shiro:hasAnyRoles>
												</h:panelGrid>
											</h:panelGrid>
										</ui:fragment>
	
										<h:panelGrid columns="2" style=" -webkit-border-radius: 5px;">
											<p:commandButton value="Atualizar Check-List" ajax="false"
												icon="ui-icon-check"
												action="#{contratoCobrancaMB.editPreContratoPorStatus()}"
												style="TEXT-DECORATION: bold; width: 170px; height: 110px;">
												<f:setPropertyActionListener
													target="#{contratoCobrancaMB.preContratoCustom}"
													value="false" />
											</p:commandButton>
										</h:panelGrid>
									</h:panelGrid>
								</shiro:hasAnyRoles>

								<h:panelGroup id="pgSolicitar">
									<h:panelGrid columns="1"
										style="background-color: #e4e4e4; margin-left: 21px;width: 250px; height: 50px; -webkit-border-radius: 5px;
												-moz-border-radius: 5px;
												border-radius: 5px; padding: 10px;">
										<h:panelGrid columns="1">
											<p:outputLabel styleClass="labelBold">Solicitar Nota Fiscal?</p:outputLabel>
											<p:selectOneRadio id="solicitarNota"
												value="#{contratoCobrancaMB.objetoContratoCobranca.solicitarNota}">
												<f:selectItem itemLabel="Não" itemValue="Não" />
												<f:selectItem itemLabel="Solicitado" itemValue="Solicitado" />
											 	<p:ajax event="change" update="pgSolicitar pgSolicitar2"/>  
											</p:selectOneRadio>
										</h:panelGrid>				
									</h:panelGrid>
									
									<h:panelGrid columns="2" style="margin-left: 20px;" 
										rendered="#{contratoCobrancaMB.objetoContratoCobranca.solicitarNota eq 'Solicitado'}">
										<p:outputLabel value="Valor da Nota Fiscal" />
										<p:inputText id="valorNotaFiscal"
											value="#{contratoCobrancaMB.objetoContratoCobranca.valorNotaFiscal}"
											onkeypress="return isNumberKey(event);"
											style="width:100px;font-weight: bold; font-size: 12px !important; margin-left: 5px;"
											onkeydown="FormataValor(this, 13, event, 2);" required="true"
											converter="bigDecimalConverter" />
									</h:panelGrid>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGrid>
					</ui:fragment>
					
					<p:tooltip id="toolTipContentagAnaliseStep" for="agAnaliseStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.inicioAnaliseUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.inicioAnaliseData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			 </p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentcadastroAprovadoStep" for="cadastroAprovadoStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.cadastroAprovadoUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.cadastroAprovadoData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			 </p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentpagtoLaudoConfirmadaStep" for="pagtoLaudoConfirmadaStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.pagtoLaudoConfirmadaUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.pagtoLaudoConfirmadaData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentlaudoRecebidoStep" for="laudoRecebidoStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.laudoRecebidoUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.laudoRecebidoData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentAnaliseComercial" for="analiseComercialStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.analiseComercialUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.analiseComercialData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentComentarioJuridicoEsteira" for="comentarioJuridicoStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.comentarioJuridicoEsteiraUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.comentarioJuridicoEsteiraData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentPreAprovadoComiteStep" for="preComiteStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.preAprovadoComiteUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.preAprovadoComiteData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
			       	</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentaprovadoComiteStep" for="aprovadoComiteStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.aprovadoComiteUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.aprovadoComiteData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentdocumentosCompletosStep" for="documentosCompletosStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.documentosCompletosUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.documentosCompletosData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		
					<p:tooltip id="toolTipContentccbProntaStep" for="ccbProntaStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.ccbProntaUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.ccbProntaData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentagAssinaturaStep" for="agAssinaturaStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.agAssinaturaUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.agAssinaturaData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentAgEnvioCartorioStep" for="agEnvioCartorioStep" position="bottom">
						<h:panelGrid columns="1">
							<p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;" />
							<p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.agEnvioCartorioUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;" />
							<p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;" />
							<h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.agEnvioCartorioData}" style="width:250px;font-weight: bold; font-size: 18px;">
								<f:convertDateTime locale="pt_BR" />
								<f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy" />
							</h:outputText>
						</h:panelGrid>
					</p:tooltip>
		   			 
		   			<p:tooltip id="toolTipContentagRegistroStep" for="agRegistroStep" position="bottom">
						<h:panelGrid columns="1">	
					        <p:outputLabel value="Aprovador" styleClass="labelBold" style="font-weight: bold;"/>		        
					        <p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.agRegistroUsuario}" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px !important;"/>
					        <p:outputLabel value="Data Aprovação" styleClass="labelBold" style="width:250px;font-weight: bold; font-size: 18px;"/>
					        <h:outputText value="#{contratoCobrancaMB.objetoContratoCobranca.agRegistroData}" style="width:250px;font-weight: bold; font-size: 18px;">			            	
								<f:convertDateTime locale="pt_BR"  />
							    <f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
							</h:outputText>	
			       		</h:panelGrid>
		   			</p:tooltip>																
				</p:panel>
				
				<h:panelGroup id="Observacao">
					<p:panel header="Observação" style="margin-bottom:10px;">
						<h:panelGrid columns="2">
							<p:outputLabel for="observacaoPagamento"
								value="Observação de Registro: " styleClass="labelBold" />
							<h:inputTextarea id="observacaoPagamento"
								value="#{contratoCobrancaMB.objetoContratoCobranca.observacaoPagamento}"
								rows="10" cols="48" maxlength="3000" onblur=""
								counterTemplate="{0} characters remaining." autoResize="false"
								style="FONT-SIZE: 10pt;width:400px;">
								<p:ajax process="@this" partialSubmit="true" />
							</h:inputTextarea>
						</h:panelGrid>
					</p:panel>
				</h:panelGroup>
				
				<h:panelGroup id="MoneyPlus">
					<p:panel header="Money Plus" style="margin-bottom:10px;">
						<h:panelGrid columns="2">
							<p:outputLabel for="valorCCB" value="Valor da CCB: "
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								styleClass="labelBold" />
							<p:inputText id="valorCCB" 
								value="#{contratoCobrancaMB.objetoContratoCobranca.valorCCB}"
								onkeypress="return isNumberKey(event);"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								onkeydown="FormataValor(this, 13, event, 2);" required="true"
								converter="bigDecimalConverter" />
						</h:panelGrid>
					</p:panel>
				</h:panelGroup>				
				<h:panelGroup id="ContasPagarPanel">
					<p:messages id="mensagensStarkBank"/>
					<p:panel header="Dispesas" style="margin-bottom:10px;">
						<f:facet name="header"> Despesas 
							<p:outputLabel value="" />
							<shiro:hasAnyRoles name="ROOT, ADMINISTRADOR, COBRANCA_FINANCEIRO">
								<p:selectBooleanButton
									value="#{contratoCobrancaMB.addContasPagar}"
									onLabel="Adicionar Conta" offLabel="Adicionar Conta"
									onIcon="ui-icon-plus" offIcon="ui-icon-plus">
									<p:ajax update=":form:ContasPagarPanel" event="change" />
								</p:selectBooleanButton>
							</shiro:hasAnyRoles>
						</f:facet>
						
						<h:panelGrid columns="2">
							<p:outputLabel for="ContaPagarValorTotal"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="Valor Total (R$): " styleClass="labelBold" />
							<p:inputText id="ContaPagarValorTotal" styleClass="labelBold"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								onkeypress="return isNumberKey(event);"
								onkeydown="FormataValor(this, 13, event, 2);" 
								value="#{contratoCobrancaMB.objetoContratoCobranca.contaPagarValorTotal}"
								converter="bigDecimalConverter" />
								
							<p:outputLabel for="nomeBancarioContaPagar" value="Nome:" 
								style="width:250px;font-weight: bold; font-size: 18px !important;"/>
							<p:inputText id="nomeBancarioContaPagar"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.nomeBancarioContaPagar}" />

							<p:outputLabel for="cpfCnpjBancarioContaPagar" value="CPF/CNPJ: " 
								style="width:250px;font-weight: bold; font-size: 18px !important;"/>
							<p:inputText id="cpfCnpjBancarioContaPagar"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.cpfCnpjBancarioContaPagar}" />

							<p:outputLabel for="bancoBancarioContaPagar" value="Banco: " 
								style="width:250px;font-weight: bold; font-size: 18px !important;"/>
							<p:inputText id="bancoBancarioContaPagar"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.bancoBancarioContaPagar}" />

							<p:outputLabel for="agenciaBancarioContaPagar" value="Agência: " 
								style="width:250px;font-weight: bold; font-size: 18px !important;"/>
							<p:inputText id="agenciaBancarioContaPagar"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.agenciaBancarioContaPagar}" />

							<p:outputLabel for="contaBancarioContaPagar" value="C/C: " 
								style="width:250px;font-weight: bold; font-size: 18px !important;"/>
							<p:inputText id="contaBancarioContaPagar"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.contaBancarioContaPagar}" />
								
							<p:outputLabel for="digitoContaBancarioContaPagar" value="Dígito C/C: " 
								style="width:250px;font-weight: bold; font-size: 18px !important;"/>
							<p:inputText id="digitoContaBancarioContaPagar"
								style="width:250px;font-weight: bold; font-size: 18px !important;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.digitoContaBancarioContaPagar}" />	
						</h:panelGrid>

						<h:panelGroup id="adicionarContasPagar"
							rendered="#{contratoCobrancaMB.addContasPagar}">
							<h:panelGrid columns="2">
								<p:spacer height="10" />
								<p:spacer height="10" />

								<p:outputLabel value="Adicionar Conta a Pagar"
									styleClass="labelBold" />
								<p:spacer width="0" />

								<p:outputLabel for="ContaPagarDescricao" value="Descrição: "
									styleClass="labelBold"
									style="font-weight: bold; font-size: 18px;" />
								<p:autoComplete id="ContaPagarDescricao" dropdown="true"
									value="#{contratoCobrancaMB.contasPagarSelecionada.descricao}"
									completeMethod="#{contratoCobrancaMB.contaPagarDescricaoLista()}"
									scrollHeight="250" />

								<p:outputLabel for="ContaPagarValor" value="Valor: "
									styleClass="labelBold" />
								<p:inputText id="ContaPagarValor"
									value="#{contratoCobrancaMB.contasPagarSelecionada.valor}"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="false"
									converter="bigDecimalConverter" />

								<p:outputLabel for="ContaPagarDataVencimento"
									value="Data Vencimento: " styleClass="labelBold" />
								<p:calendar id="ContaPagarDataVencimento"
									value="#{contratoCobrancaMB.contasPagarSelecionada.dataVencimento}"
									label="Data" size="100" pattern="dd/MM/yyyy"
									styleClass="dateTimeField" />
									
								<p:outputLabel for="ContaPagarValorPago" value="Valor Pago:  "
									styleClass="labelBold" />
								<p:inputText id="ContaPagarValorPago"
									value="#{contratoCobrancaMB.contasPagarSelecionada.valorPagamento}"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="false"
									converter="bigDecimalConverter" />
									
								<p:outputLabel for="ContaPagarDataPagamento"
									value="Data Pagamento: " styleClass="labelBold" />
								<p:calendar id="ContaPagarDataPagamento"
									value="#{contratoCobrancaMB.contasPagarSelecionada.dataPagamento}"
									label="Data" size="100" pattern="dd/MM/yyyy"
									styleClass="dateTimeField" />
									
								<p:outputLabel for="ContaPagarObservacao" value="Observação: "
								styleClass="labelBold"
								style="font-weight: bold; font-size: 18px;" />
								<p:inputTextarea id="ContaPagarObservacao"  rows="6" cols="33"
								value="#{contratoCobrancaMB.contasPagarSelecionada.observacao}"/>
							
							<p:outputLabel for="formaTransferencia" value="Forma de Pagamento: "
									styleClass="labelBold"
									style="font-weight: bold; font-size: 18px;" />
								<p:selectOneMenu id="formaTransferencia"
									value="#{contratoCobrancaMB.contasPagarSelecionada.formaTransferencia}">
									<f:selectItem itemValue="" itemLabel="Selecione" />
									<f:selectItem itemValue="TED" itemLabel="TED" />
									<f:selectItem itemValue="Pix" itemLabel="Pix" />
									<f:selectItem itemValue="Boleto" itemLabel="Boleto" />
									<f:selectItem itemValue="Imposto" itemLabel="Imposto" />
									<p:ajax event="change" 
										update="tedGrid contasDT" />
								</p:selectOneMenu>
							
							</h:panelGrid>
							
							<shiro:hasAnyRoles name="ROOT,PRECOBRANCAANALISTA, ASSISTENTEFINANCEIRO, COBRANCA_FINANCEIRO">  						
					<p:panel id="ArquivosPagar" header="Selecionar conta a pagar" style="margin-bottom:10px;text-align: center;">							
						<h:panelGrid columns="1">		
							<p:fileUpload label="Selecionar Arquivo(s)" uploadLabel="Salvar Arquivo(s)" multiple="true" cancelLabel="Cancelar"
							fileUploadListener="#{contratoCobrancaMB.handleFileContaPagarUpload}" mode="advanced" dragDropSupport="true" update="ArquivosPagarSalvos" >
								<f:attribute name="foo" value="#{contratoCobrancaMB.contasPagarSelecionada}" />
							</p:fileUpload>							
						</h:panelGrid>  
					</p:panel>	
					
					<p:dialog modal="true" widgetVar="statusDialog" header="Status Downloading" draggable="false" closable="false" resizable="false">
					    <p:graphicImage name="image/ajaxloadingbar.gif" />
					</p:dialog>
	
					<p:panel id="ArquivosPagarSalvos" header="Arquivo(s) a Pagar Salvo(s) no Contrato" style="margin-bottom:10px;">							
						<h:panelGrid columns="1">			                      								
							<p:dataTable id="dtFilesPagar" var="filesPagar" value="#{contratoCobrancaMB.contasPagarSelecionada.filesContas}" rowKey="#{filesPagar.name}" selection="#{contratoCobrancaMB.deletefilesPagar}" emptyMessage="" sortBy="#{filesPagar.name}" >	
								<p:column selectionMode="multiple" style="width:16px;text-align:center"/>
								 <f:facet name="header">											 
									<p:commandButton value="Excluir Selecionado(s)" ajax="false" icon="ui-icon-trash" action="#{contratoCobrancaMB.deleteFilePagar}"/>
						        </f:facet>	        
						        <p:column style="text-align: center;"
									headerText="Nome do Arquivo" filterBy="#{filesPagar.name}"
									filterMatchMode="contains" sortBy="#{filesPagar.name}">
									<h:outputText value="#{filesPagar.name}" />
									<p:spacer height="10" />
									<p:commandButton value="Abrir" ajax="false" action="#{contratoCobrancaMB.viewFile(filesPagar)}"
										immediate="true" icon="ui-icon-search" onclick="target='_blank'" onblur="target='_self'">
									</p:commandButton>
								</p:column>  
						        
						        <p:column style="width:100px;">
									<p:commandButton value="Download" ajax="false"  icon="ui-icon-arrowthick-1-s">						       	 	
							       	 	<f:setPropertyActionListener target="#{contratoCobrancaMB.selectedFile}" value="#{filesPagar}" />
							       	 	<p:fileDownload value="#{contratoCobrancaMB.downloadFile}" />
							    	</p:commandButton>	
					            </p:column>						        
	
					             <f:facet name="footer">
									<p:commandButton value="Excluir Selecionado(s)" ajax="false" icon="ui-icon-trash" action="#{contratoCobrancaMB.deleteFilePagar}"/>								
						        </f:facet>             	        		               		        			        			           			 		
							</p:dataTable>								
						</h:panelGrid>  
					</p:panel>
					</shiro:hasAnyRoles>
							<h:panelGroup id="tedGrid" >
								<h:panelGrid columns="2" style="margin-left:20px;" rendered="#{contratoCobrancaMB.contasPagarSelecionada.formaTransferencia eq 'TED'}">									
									<p:outputLabel for="nomeTed" value="Nome: " />
									<p:inputText id="nomeTed" value="#{contratoCobrancaMB.contasPagarSelecionada.nomeTed}" />								
									<p:outputLabel for="cpfTed" value="CPF/CNPJ: " />
									<p:inputText id="cpfTed"
										value="#{contratoCobrancaMB.contasPagarSelecionada.cpfTed}" />		
									<p:outputLabel value="Banco: " for="bancoTed" />
									<p:autoComplete id="bancoTed" value="#{contratoCobrancaMB.contasPagarSelecionada.bancoTed}"
										completeMethod="#{contratoCobrancaMB.contasPagarSelecionada.completeBancos}"
										var="banco" itemLabel="#{banco}" itemValue="#{banco}"
										forceSelection="true" styleClass="labelBold" label="Conta" 
										style="width:100px;"
										scrollHeight="250" />														
									<p:outputLabel for="contaTed" value="Conta: " />
									<p:inputText id="contaTed"
										value="#{contratoCobrancaMB.contasPagarSelecionada.contaTed}" />									
									<p:outputLabel for="agenciaTed" value="Agência: " />
									<p:inputText id="agenciaTed"
										value="#{contratoCobrancaMB.contasPagarSelecionada.agenciaTed}" />							
								</h:panelGrid>
							</h:panelGroup>	
							
							<p:commandButton value="Concluir" ajax="true"
								action="#{contratoCobrancaMB.concluirConta()}"
								update=":form:ContasPagarPanel :form:messageContasPagar" icon="ui-icon ui-icon-check" />
						</h:panelGroup>
						
						<p:messages id="messageContasPagar"/>
						
						<p:dataTable var="contas" value="#{contratoCobrancaMB.objetoContratoCobranca.listContasPagar}" 
							id="contasDT" size="small">
							
							<p:column style="text-align: center;" headerText="Descrição"  >
								<p:outputLabel value="#{contas.descricao}" 
									style="FONT-SIZE: 10pt;" />
							</p:column>
							
							<p:column style="text-align: center;" headerText="Valor "  >
								<p:outputLabel value="#{contas.valor}" 
									style="FONT-SIZE: 10pt;"
									converter="bigDecimalConverter" />
							</p:column> 
							
							<p:column style="text-align: center;" headerText="Data Vencimento"  >
								<h:outputText value="#{contas.dataVencimento}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</p:column>
							
							<p:column style="text-align: center;" headerText="Forma de Pagamento"  >
								<p:outputLabel value="#{contas.formaTransferencia}"
									style="FONT-SIZE: 10pt;width:100px;" />
							</p:column>
							
							<p:column style="text-align: center;" headerText="Data Último Pagamento"  >
								<h:outputText value="#{contratoCobrancaMB.getDataUltimaBaixaStarkBank(contas)}"> 
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</p:column>
							
							<p:column style="text-align: center;" headerText="Valor Total Pago (R$)"  >
								<p:outputLabel value="#{contratoCobrancaMB.getTotalBaixasStarkBank(contas)}" 
									style="FONT-SIZE: 10pt;"
									converter="bigDecimalConverter" />
							</p:column> 
						
							<shiro:hasAnyRoles name="ROOT, ADMINISTRADOR, COBRANCA_FINANCEIRO">								
								<p:column style="text-align: center;width:260px;" headerText="" >
						    	
									<p:commandButton value="Editar" icon="ui-icon-pencil"
										action="#{contratoCobrancaMB.editarConta(contas)}" ajax="true"
										update=":form:ContasPagarPanel" />
									<p:commandButton value="Remover" icon="ui-icon-trash"
										action="#{contratoCobrancaMB.removerConta(contas)}"
										ajax="true" update=":form:ContasPagarPanel" />
									<p:commandButton value="Arquivos" icon="ui-icon-print"
										action="#{contratoCobrancaMB.populateFilesContasPagar(contas)}"
										ajax="true" update=":form:ContasPagarPanel contaArquivosForm" />
										
									<shiro:hasAnyRoles name="ROOT, ADMINISTRADOR, COBRANCA_FINANCEIRO">
										<p:commandButton action="#{contratoCobrancaMB.updateFieldsOrdemPagamentoStarkBank()}" oncomplete="PF('pagamentoStarkBankdlg').show();"
											icon="ui-icon-video" title="Pagamento - StarkBank" value="Pagamento - StarkBank"
											update=":starkBankForm :form" disabled="#{contas.contaPaga}">
											<f:setPropertyActionListener target="#{contratoCobrancaMB.contasPagarSelecionada}" value="#{contas}" />		
											<f:setPropertyActionListener target="#{contratoCobrancaMB.contasPagarSelecionada.valorPagamento}" value="#{contas.valor}" />								
										</p:commandButton>
										<p:commandButton oncomplete="PF('baixasStarkBankdlg').show();"
											icon="ui-icon-video" title="Baixas - StarkBank" value="Baixas - StarkBank"
											update=":starkBankBaixasForm:baixasDT :form">
											<f:setPropertyActionListener target="#{contratoCobrancaMB.contasPagarSelecionada}" value="#{contas}" />									
										</p:commandButton>
									</shiro:hasAnyRoles>
								</p:column>
							</shiro:hasAnyRoles>
						</p:dataTable>			

						<!-- VALOR TOTAL PAGO -->
						<p:outputLabel value="Valor total Pago: " styleClass="labelBold" />
						<p:outputLabel value="#{contratoCobrancaMB.objetoContratoCobranca.somaValorPago}"
						converter="bigDecimalConverter" styleClass="labelBold"
						style="FONT-SIZE: 10pt;width:100px;" />
						<p:spacer height="5" />
						<p:outputLabel value="|" />
						<p:spacer height="5" /> 
					</p:panel>
				</h:panelGroup>
				
				<h:panelGroup id="Cliente">
					<p:panel header="Cliente" style="margin-bottom:10px;">
						<h:panelGrid columns="3">
							<h:panelGrid columns="2">
								<p:outputLabel for="valorCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="Valor da Carta Split: " styleClass="labelBold" />
								<p:inputText id="valorCartaSplit"
									value="#{contratoCobrancaMB.objetoContratoCobranca.valorCartaSplit}"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="true"
									converter="bigDecimalConverter" />
	
								<p:outputLabel for="nomeBancarioCartaSplit" value="Nome:" 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="nomeBancarioCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.nomeBancarioCartaSplit}" />
	
								<p:outputLabel for="cpfCnpjBancarioCartaSplit" value="CPF/CNPJ: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="cpfCnpjBancarioCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.cpfCnpjBancarioCartaSplit}" />
	
								<p:outputLabel for="bancoBancarioCartaSplit" value="Banco: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="bancoBancarioCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.bancoBancarioCartaSplit}" />
	
								<p:outputLabel for="agenciaBancarioCartaSplit" value="Agência: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="agenciaBancarioCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.agenciaBancarioCartaSplit}" />
	
								<p:outputLabel for="contaBancarioCartaSplit" value="C/C: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="contaBancarioCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.contaBancarioCartaSplit}" />
									
								<p:outputLabel for="pixCartaSplit" value="Pix: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="pixCartaSplit"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.pixCartaSplit}" />
										
								<p:commandButton action="#{contratoCobrancaMB.pagamentoStarkBankCartaSplit}"
											icon="ui-icon-video" title="Ordem de Pagamento" value="Ordem de Pagamento"
											update=":form" disabled="#{contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split', contratoCobrancaMB.objetoContratoCobranca.numeroContrato) != null}"/>	
								<p:commandButton value="Comprovante" ajax="false" icon="ui-icon-arrowthick-1-s" update=":form:messageContasPagar"
								 disabled="#{contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split', contratoCobrancaMB.objetoContratoCobranca.numeroContrato) == null}">						       	 	
						       	 	<p:fileDownload value="#{contratoCobrancaMB.getDownloadComprovanteStarkBank(contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split', contratoCobrancaMB.objetoContratoCobranca.numeroContrato).listContasPagarBaixas)}"/>
						    	</p:commandButton>								
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:outputLabel for="valorCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="Valor Galleria: " styleClass="labelBold" />
								<p:inputText id="valorCartaSplitGalleria"
									value="#{contratoCobrancaMB.objetoContratoCobranca.valorCartaSplitGalleria}"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="true"
									converter="bigDecimalConverter" />
	
								<p:outputLabel for="nomeBancarioCartaSplitGalleria" value="Nome:" 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="nomeBancarioCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.nomeBancarioCartaSplitGalleria}" />
	
								<p:outputLabel for="cpfCnpjBancarioCartaSplitGalleria" value="CPF/CNPJ: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="cpfCnpjBancarioCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.cpfCnpjBancarioCartaSplitGalleria}" />
	
								<p:outputLabel for="bancoBancarioCartaSplitGalleria" value="Banco: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="bancoBancarioCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.bancoBancarioCartaSplitGalleria}" />
	
								<p:outputLabel for="agenciaBancarioCartaSplitGalleria" value="Agência: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="agenciaBancarioCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.agenciaBancarioCartaSplitGalleria}" />
	
								<p:outputLabel for="contaBancarioCartaSplitGalleria" value="C/C: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="contaBancarioCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.contaBancarioCartaSplitGalleria}" />
									
								<p:outputLabel for="pixCartaSplitGalleria" value="Pix: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="pixCartaSplitGalleria"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.pixCartaSplitGalleria}" />
									
								<p:commandButton action="#{contratoCobrancaMB.pagamentoStarkBankCartaSplitGalleria}"
											icon="ui-icon-video" title="Ordem de Pagamento" value="Ordem de Pagamento"
											update=":form" disabled="#{contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split - Galleria', contratoCobrancaMB.objetoContratoCobranca.numeroContrato) != null}"/>	
								<p:commandButton value="Comprovante" ajax="false" icon="ui-icon-arrowthick-1-s" update=":form:messageContasPagar"
								disabled="#{contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split - Galleria', contratoCobrancaMB.objetoContratoCobranca.numeroContrato) == null}">						       	 	
						       	 	<p:fileDownload value="#{contratoCobrancaMB.getDownloadComprovanteStarkBank(contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split - Galleria', contratoCobrancaMB.objetoContratoCobranca.numeroContrato).listContasPagarBaixas)}" />
						    	</p:commandButton>		
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:outputLabel for="valorCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="Valor IOF: " styleClass="labelBold" />
								<p:inputText id="valorCustoEmissao"
									value="#{contratoCobrancaMB.objetoContratoCobranca.valorCustoEmissao}"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="true"
									converter="bigDecimalConverter" />
	
								<p:outputLabel for="nomeBancarioCustoEmissao" value="Nome:" 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="nomeBancarioCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.nomeBancarioCustoEmissao}" />
	
								<p:outputLabel for="cpfCnpjBancarioCustoEmissao" value="CPF/CNPJ: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="cpfCnpjBancarioCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.cpfCnpjBancarioCustoEmissao}" />
	
								<p:outputLabel for="bancoBancarioCustoEmissao" value="Banco: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="bancoBancarioCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.bancoBancarioCustoEmissao}" />
	
								<p:outputLabel for="agenciaBancarioCustoEmissao" value="Agência: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="agenciaBancarioCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.agenciaBancarioCustoEmissao}" />
	
								<p:outputLabel for="contaBancarioCustoEmissao" value="C/C: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="contaBancarioCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.contaBancarioCustoEmissao}" />
									
									<p:outputLabel for="pixCustoEmissao" value="Pix: " 
									style="width:250px;font-weight: bold; font-size: 18px !important;"/>
								<p:inputText id="pixCustoEmissao"
									style="width:250px;font-weight: bold; font-size: 18px !important;"
									value="#{contratoCobrancaMB.objetoContratoCobranca.pixCustoEmissao}" />
									
								<p:commandButton action="#{contratoCobrancaMB.pagamentoStarkBankCartaSplitCustoEmissao}"
											icon="ui-icon-video" title="Ordem de Pagamento" value="Ordem de Pagamento"
											update=":form" disabled="#{contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split - IOF', contratoCobrancaMB.objetoContratoCobranca.numeroContrato) != null}"/>	
								<p:commandButton value="Comprovante" ajax="false" icon="ui-icon-arrowthick-1-s" update=":form:messageContasPagar"
								disabled="#{contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split - IOF', contratoCobrancaMB.objetoContratoCobranca.numeroContrato) == null}">						       	 	
						       	 	<p:fileDownload value="#{contratoCobrancaMB.getDownloadComprovanteStarkBank(contratoCobrancaMB.buscaDespesaCartaSplit('Pagamento Carta Split - IOF', contratoCobrancaMB.objetoContratoCobranca.numeroContrato).listContasPagarBaixas)}" />
						    	</p:commandButton>	
							</h:panelGrid>
						</h:panelGrid>
					</p:panel>
					
				</h:panelGroup>
				<p:messages id="msgArquivo"/> 	
				
				<shiro:hasAnyRoles name="ROOT,PRECOBRANCAANALISTA,COBRANCA, ASSISTENTEFINANCEIRO">  	
					<p:panel id="UploadArquivosJuridico" header="Arquivo Juridico(s)" style="margin-bottom:10px;" >						
						<p:panel id="ArquivosJuridico" header="Selecionar Arquivo Para Upload" style="margin-bottom:10px;text-align: center;" rendered="#{( usuarioMB.objetoUsuario.administrador or (contratoCobrancaMB.tituloTelaConsultaPreStatus != 'Ag. Registro'))}">							
		
							<h:panelGrid columns="1">		
								<p:fileUpload label="Selecionar Arquivo(s)" uploadLabel="Salvar Arquivo(s)" multiple="true" cancelLabel="Cancelar" fileUploadListener="#{contratoCobrancaMB.handleFileJuridicoUpload}" mode="advanced" dragDropSupport="true"
		                          update="ArquivosJuridicoSalvos msgArquivo" />								
							</h:panelGrid>  
						</p:panel>	
						
						<p:dialog modal="true" widgetVar="statusDialog" header="Status Downloading" draggable="false" closable="false" resizable="false">
						    <p:graphicImage name="image/ajaxloadingbar.gif" />
						</p:dialog>
		
						<p:panel id="ArquivosJuridicoSalvos" header="Arquivo(s) Juridico Salvo(s) no Contrato" style="margin-bottom:10px;">							
							<h:panelGrid columns="1">			                      								
								<p:dataTable id="dtFilesJuridico" var="filesJuridico" value="#{contratoCobrancaMB.filesJuridico}" rowKey="#{filesJuridico.name}" selection="#{contratoCobrancaMB.deletefilesJuridico}" emptyMessage="" sortBy="#{filesJuridico.name}" >	
									<p:column selectionMode="multiple" style="width:16px;text-align:center"/>
									 <f:facet name="header">							 
									 	<p:commandButton value="Download Selecionado(s)" ajax="false"
											icon="ui-icon-arrowthick-1-s" immediate="true"
											action="#{contratoCobrancaMB.getDownloadAllFilesJuridico()}">
										</p:commandButton>
										<p:commandButton value="Excluir Selecionado(s)" ajax="false" icon="ui-icon-trash" action="#{contratoCobrancaMB.deleteFileJuridico}"/>
										<p:commandButton value="Download Selecionado(s)" ajax="false"
											icon="ui-icon-arrowthick-1-s" immediate="true"
											action="#{contratoCobrancaMB.getDownloadAllFilesJuridico()}">
										</p:commandButton>	
							        </f:facet>	        
							        <p:column style="text-align: center;"
										headerText="Nome do Arquivo" filterBy="#{filesJuridico.name}"
										filterMatchMode="contains" sortBy="#{filesJuridico.name}">
										<h:outputText
										
												value="#{filesJuridico.name}" />
										<p:spacer height="10" />
										<p:commandButton value="Abrir" ajax="false" action="#{contratoCobrancaMB.viewFile(filesJuridico)}"
											immediate="true" icon="ui-icon-search" onclick="target='_blank'" onblur="target='_self'">
										</p:commandButton>
									</p:column>  
							        
							        <p:column style="width:100px;">
										<p:commandButton value="Download" ajax="false"  icon="ui-icon-arrowthick-1-s">						       	 	
								       	 	<f:setPropertyActionListener target="#{contratoCobrancaMB.selectedFile}" value="#{filesJuridico}" />
								       	 	<p:fileDownload value="#{contratoCobrancaMB.downloadFile}" />
								    	</p:commandButton>	
						            </p:column>						        
		
						             <f:facet name="footer">
						            	<p:commandButton value="Download Selecionado(s)" ajax="false"
											icon="ui-icon-arrowthick-1-s" immediate="true"
											action="#{contratoCobrancaMB.getDownloadAllFilesJuridico()}">
										</p:commandButton>	             
										<p:commandButton value="Excluir Selecionado(s)" ajax="false" icon="ui-icon-trash" action="#{contratoCobrancaMB.deleteFileJuridico}"/>								
							        </f:facet>
							        <p:ajax event="rowSelectCheckbox" process="@this"
										listener="#{contratoCobrancaMB.fileSelectionListener()}" />
									<p:ajax event="rowUnselectCheckbox" process="@this"
										listener="#{contratoCobrancaMB.fileSelectionListener()}" />
									<p:ajax event="toggleSelect" process="@this"
										listener="#{contratoCobrancaMB.fileSelectionListener()}" />             	        		               		        			        			           			 		
								</p:dataTable>								
							</h:panelGrid>  
						</p:panel>
						<script type="text/javascript">
							function start() {
							    PF('statusDialog').show();
							}
							 
							function stop() {
							    PF('statusDialog').hide();
							}
						</script>
					</p:panel>	
				</shiro:hasAnyRoles>
			
				<shiro:hasAnyRoles
					name="ROOT, PRECOBRANCAANALISTA, COMITECONSULTAR, PROFILE_ANALISTA_CREDITO, PROFILE_ANALISTA_COMITE, 
					PROFILE_ANALISTA_POS_COMITE, PROFILE_GERENTE_ANALISE, PROFILE_CONTRATO, PROFILE_COMENTARIO_JURIDICO,  
					PROFILE_LAUDO">
					<p:panel id="UploadArquivosInternos"
						header="Upload de Arquivo(s) Interno(s)"
						style="margin-bottom:10px;">
						<p:panel id="ArquivosInternos"
							header="Selecionar Arquivo Interno(s)"
							style="margin-bottom:10px;text-align: center;">
							<h:panelGrid columns="1">
								<p:fileUpload label="Selecionar Arquivo(s)"
									uploadLabel="Salvar Arquivo(s)" multiple="true"
									cancelLabel="Cancelar"
									fileUploadListener="#{contratoCobrancaMB.handleFileInternoUpload}"
									mode="advanced" dragDropSupport="true"
									update="ArquivosInternosSalvos msgArquivo" />
							</h:panelGrid>
						</p:panel>
	
						<p:dialog modal="true" widgetVar="statusDialog"
							header="Status Downloading" draggable="false" closable="false"
							resizable="false">
							<p:graphicImage name="image/ajaxloadingbar.gif" />
						</p:dialog>
	
						<p:panel id="ArquivosInternosSalvos"
							header="Arquivo(s) Interno(s) Salvo(s) no Contrato"
							style="margin-bottom:10px;">
							<h:panelGrid columns="1">
								<p:dataTable id="dtFilesInterno" var="filesInterno"
									value="#{contratoCobrancaMB.filesInterno}"
									rowKey="#{filesInterno.name}"
									selection="#{contratoCobrancaMB.deletefilesInterno}"
									emptyMessage="" sortBy="#{filesInterno.name}">
									<p:column selectionMode="multiple"
										style="width:16px;text-align:center" />
									<f:facet name="header">
										<p:commandButton value="Download Selecionado(s)" ajax="false"
											immediate="true"
											action="#{contratoCobrancaMB.getDownloadAllFilesInterno()}"
											icon="ui-icon-arrowthick-1-s">
										</p:commandButton>
										<p:commandButton value="Excluir Selecionado(s)" ajax="false"
											icon="ui-icon-trash"
											action="#{contratoCobrancaMB.deleteFileInterno}" />
									</f:facet>
									<p:column style="text-align: center;"
										headerText="Nome do Arquivo" filterBy="#{filesInterno.name}"
										filterMatchMode="contains" sortBy="#{filesInterno.name}">
										<h:outputText value="#{filesInterno.name}" />
										<p:spacer height="10" />
										<p:commandButton value="Abrir" ajax="false" immediate="true"
											action="#{contratoCobrancaMB.viewFile(filesInterno)}"
											icon="ui-icon-search" onclick="target='_blank'"
											onblur="target='_self'">
										</p:commandButton>
									</p:column>
	
									<p:column style="width:100px;">
										<p:commandButton value="Download" ajax="false"
											icon="ui-icon-arrowthick-1-s">
											<f:setPropertyActionListener
												target="#{contratoCobrancaMB.selectedFile}"
												value="#{filesInterno}" />
											<p:fileDownload value="#{contratoCobrancaMB.downloadFile}" />
										</p:commandButton>
									</p:column>
	
									<f:facet name="footer">
										<p:commandButton value="Download Selecionado(s)" ajax="false"
											immediate="true"
											action="#{contratoCobrancaMB.getDownloadAllFilesInterno()}"
											icon="ui-icon-arrowthick-1-s">
										</p:commandButton>
										<p:commandButton value="Excluir Selecionado(s)" ajax="false"
											immediate="true" icon="ui-icon-trash"
											action="#{contratoCobrancaMB.deleteFileInterno()}" />
									</f:facet>
									<p:ajax event="rowSelectCheckbox" update="dtFilesInterno"
										process="@this"
										listener="#{contratoCobrancaMB.fileSelectionListener()}" />
									<p:ajax event="rowUnselectCheckbox" update="dtFilesInterno"
										process="@this"
										listener="#{contratoCobrancaMB.fileSelectionListener()}" />
									<p:ajax event="toggleSelect" update="dtFilesInterno"
										process="@this"
										listener="#{contratoCobrancaMB.fileSelectionListener()}" />
								</p:dataTable>
							</h:panelGrid>
						</p:panel>
						<script type="text/javascript">
							function start() {
								PF('statusDialog').show();
							}
		
							function stop() {
								PF('statusDialog').hide();
							}
						</script>
					</p:panel>
				</shiro:hasAnyRoles>
			
			</p:panel>
	
			<div align="center">
				<p:commandButton value="Atualizar" ajax="false" icon="ui-icon-check" action="#{contratoCobrancaMB.editPreContratoPorStatus()}" style="TEXT-DECORATION: bold;" rendered="#{contratoCobrancaMB.updateMode}">
					<f:setPropertyActionListener target="#{contratoCobrancaMB.preContratoCustom}" value="false" />	
				</p:commandButton>		 						
				<p:spacer height="10" />
				<shiro:hasAnyRoles name="ROOT"> 
					<p:commandButton value="Excluir" ajax="false" icon="ui-icon-trash" action="#{contratoCobrancaMB.deletePreContrato()}" style="TEXT-DECORATION: bold;" rendered="#{contratoCobrancaMB.deleteMode}">
						<f:setPropertyActionListener target="#{contratoCobrancaMB.preContratoCustom}" value="false" />	
					</p:commandButton>
					<p:spacer height="10" />		 	
				</shiro:hasAnyRoles>					
					<p:commandButton value="Baixar" ajax="false" icon="ui-icon-check" action="#{contratoCobrancaMB.baixarPreContrato()}" style="TEXT-DECORATION: bold;" rendered="#{contratoCobrancaMB.baixarMode}">
						<f:setPropertyActionListener target="#{contratoCobrancaMB.baixarMode}" value="false" />	
					</p:commandButton>	
					<p:spacer height="10" />
				<p:commandButton value="Cancelar" immediate="true" icon="ui-icon-cancel" onclick="window.history.back();" style="TEXT-DECORATION: bold; "/>								
			</div>			
		
		</h:form>	
		
		<p:dialog header="Pagamento StarkBank" overflow="auto"
			widgetVar="pagamentoStarkBankdlg" resizable="true" style="FONT-SIZE: 13pt;"
			width="800" minWidth="800">
			<h:form id="starkBankForm">				
				<p:panel id="BoletoStarkBank" header="Boleto"
					style="margin-bottom:10px;" rendered="#{contratoCobrancaMB.contasPagarSelecionada.formaTransferencia eq 'Boleto'}">
					<h:panelGroup id="starkBankGrid" >
						<h:panelGrid columns="2">
							<p:outputLabel for="linhaDigitavel" styleClass="labelBold" value="Linha Digitável: " />
							<p:inputText id="linhaDigitavel" value="#{contratoCobrancaMB.contasPagarSelecionada.linhaDigitavelStarkBank}" style="width:100px;" required="true"/>							
							<p:outputLabel for="cpfcnpjStark" styleClass="labelBold" value="CPF/CNPJ Recebedor boleto: " />
							<p:inputText id="cpfcnpjStark" value="#{contratoCobrancaMB.contasPagarSelecionada.numeroDocumentoPagadorStarkBank}" required="true"/>
							
							<p:outputLabel for="ContaPagarValorPagoBoletoStarkBank" value="Valor Pago: "
								styleClass="labelBold" />
							<p:inputText id="ContaPagarValorPagoBoletoStarkBank"
								value="#{contratoCobrancaMB.contasPagarSelecionada.valorPagamento}"
								onkeypress="return isNumberKey(event);"
								onkeydown="FormataValor(this, 13, event, 2);" required="true"
								converter="bigDecimalConverter" />
								
							<p:outputLabel for="ContaPagarDataPagamentoBoletoStarkBank"
								value="Data Pagamento: " styleClass="labelBold" />
							<p:calendar id="ContaPagarDataPagamentoBoletoStarkBank"
								value="#{contratoCobrancaMB.contasPagarSelecionada.dataPagamento}"
								label="Data" size="100" pattern="dd/MM/yyyy"
								styleClass="dateTimeField" />
						</h:panelGrid>
					</h:panelGroup>
				</p:panel>
				<p:panel id="ImpostoStarkBank" header="Imposto"
					style="margin-bottom:10px;" rendered="#{contratoCobrancaMB.contasPagarSelecionada.formaTransferencia eq 'Imposto'}">
					<h:panelGroup id="starkBankGrid" >
						<h:panelGrid columns="2">
							<p:outputLabel for="linhaDigitavel" styleClass="labelBold" value="Linha Digitável (sem pontos e espaço): " />
							<p:inputText id="linhaDigitavel" value="#{contratoCobrancaMB.contasPagarSelecionada.linhaDigitavelStarkBank}" style="width:100px;" required="true"/>	
							<p:outputLabel for="descricao" styleClass="labelBold" value="Descrição: " />
							<p:inputText id="descricao" value="#{contratoCobrancaMB.contasPagarSelecionada.descricaoStarkBank}" style="width:100px;" required="true"/>						
							<p:outputLabel for="ContaPagarValorPagoBoletoStarkBank" value="Valor Pago: "
								styleClass="labelBold" />
							<p:inputText id="ContaPagarValorPagoBoletoStarkBank"
								value="#{contratoCobrancaMB.contasPagarSelecionada.valorPagamento}"
								onkeypress="return isNumberKey(event);"
								onkeydown="FormataValor(this, 13, event, 2);" required="true"
								converter="bigDecimalConverter" />
							<p:outputLabel for="ContaPagarDataPagamentoBoletoStarkBank"
								value="Data Pagamento: " styleClass="labelBold" />
							<p:calendar id="ContaPagarDataPagamentoBoletoStarkBank"
								value="#{contratoCobrancaMB.contasPagarSelecionada.dataPagamento}"
								label="Data" size="100" pattern="dd/MM/yyyy"
								styleClass="dateTimeField" />
						</h:panelGrid>
					</h:panelGroup>
				</p:panel>
				<p:panel id="PixStarkBank" header="PIX"
					style="margin-bottom:10px;" rendered="#{contratoCobrancaMB.contasPagarSelecionada.formaTransferencia eq 'Pix'}">
						<h:panelGrid columns="2">
							<p:outputLabel for="nomeBancarioContaPagarPixStarkBank" value="Nome:" 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="nomeBancarioContaPagarPixStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.nomeBancarioContaPagar}" required="true"/>
	
							<p:outputLabel for="cpfCnpjBancarioContaPagarPixStarkBank" value="CPF/CNPJ: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="cpfCnpjBancarioContaPagarPixStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.cpfCnpjBancarioContaPagar}" required="true" />
	
							<p:outputLabel for="bancoBancarioContaPagarPixStarkBank" value="Banco: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="bancoBancarioContaPagarPixStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.bancoBancarioContaPagar}" required="true" />
	
							<p:outputLabel for="agenciaBancarioContaPagarPixStarkBank" value="Agência: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="agenciaBancarioContaPagarPixStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.agenciaBancarioContaPagar}" required="true" />
	
							<p:outputLabel for="contaBancarioContaPagarPixStarkBank" value="C/C: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="contaBancarioContaPagarPixStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.contaBancarioContaPagar}" required="true" />
								
							<p:outputLabel for="chavePIXBancarioContaPagar" value="Chave Pix: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="chavePIXBancarioContaPagar"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.chavePIXBancarioContaPagar}" required="true" />
							
							<p:outputLabel for="ContaPagarValorPagoPixStarkBank" value="Valor a Pagar: "
									styleClass="labelBold" />
							<p:inputText id="ContaPagarValorPagoPixStarkBank"
									value="#{contratoCobrancaMB.contasPagarSelecionada.valorPagamento}"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="true"
									converter="bigDecimalConverter" />							
						</h:panelGrid> 											
				</p:panel>
				
				<p:panel id="TEDStarkBank" header="TED"
					style="margin-bottom:10px;" rendered="#{contratoCobrancaMB.contasPagarSelecionada.formaTransferencia eq 'TED'}">
						<h:panelGrid columns="2">
							<p:outputLabel for="nomeBancarioContaPagarTEDStarkBank" value="Nome:" 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="nomeBancarioContaPagarTEDStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.nomeBancarioContaPagar}" required="true"/>
	
							<p:outputLabel for="cpfCnpjBancarioContaPagarTEDStarkBank" value="CPF/CNPJ: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="cpfCnpjBancarioContaPagarTEDStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.cpfCnpjBancarioContaPagar}" required="true" />
	
							<p:outputLabel for="bancoBancarioContaPagarTEDStarkBank" value="Banco: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="bancoBancarioContaPagarTEDStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.bancoBancarioContaPagar}" required="true" />
	
							<p:outputLabel for="agenciaBancarioContaPagarTEDStarkBank" value="Agência: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="agenciaBancarioContaPagarTEDStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.agenciaBancarioContaPagar}" required="true" />
	
							<p:outputLabel for="contaBancarioContaPagarTEDStarkBank" value="C/C: " 
								style="width:250px;" styleClass="labelBold"/>
							<p:inputText id="contaBancarioContaPagarTEDStarkBank"
								style="width:250px;"
								value="#{contratoCobrancaMB.objetoContratoCobranca.contaBancarioContaPagar}" required="true" />
							
							<p:outputLabel for="ContaPagarValorPagoTEDStarkBank" value="Valor a Pagar: "
									styleClass="labelBold" />
							<p:inputText id="ContaPagarValorPagoTEDStarkBank"
									value="#{contratoCobrancaMB.contasPagarSelecionada.valorPagamento}"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="true"
									converter="bigDecimalConverter" />
						</h:panelGrid>												
				</p:panel>
				
				<div align="center" style="margin-top: 20px;">
					<p:commandButton value="Enviar Ordem de Pagamento" ajax="false" icon="ui-icon-check" action="#{contratoCobrancaMB.pagamentoStarkBank()}" style="TEXT-DECORATION: bold; margin-right: 20px;" update=":form:messageContasPagar"/>
					<p:commandButton value="Fechar"
						icon="ui-icon-arrowreturnthick-1-w"
						oncomplete="PF('pagamentoStarkBankdlg').hide();" />
				</div>
			</h:form>
		</p:dialog>

		<p:dialog header="Baixas - StarkBank" overflow="auto"
			widgetVar="baixasStarkBankdlg" resizable="true" style="FONT-SIZE: 13pt;"
			width="1200" minWidth="1200">
			<h:form id="starkBankBaixasForm">	
				<p:messages id="mensagens"/>
				<h:panelGrid columns="2">
					<p:outputLabel value="Conta: " 
						style="font-size: 20px !important;" styleClass="labelBold"/>
					<p:outputLabel value="#{contratoCobrancaMB.contasPagarSelecionada.descricao}" 
						style="font-size: 20px !important;" styleClass="labelBold"/>
				</h:panelGrid>
									
				<p:dataTable var="baixas" value="#{contratoCobrancaMB.contasPagarSelecionada.listContasPagarBaixas}" id="baixasDT" editable="true">	
				
					<p:ajax event="rowEdit" listener="#{contratoCobrancaMB.onRowEditBaixaStarkBank}" update=":starkBankBaixasForm:mensagens" />
       				<p:ajax event="rowEditCancel" listener="#{contratoCobrancaMB.onRowCancelBaixaStarkBank}" update=":starkBankBaixasForm:mensagens" />
 
					<p:column style="text-align: center;" headerText="Pagador"  >
						<p:outputLabel value="#{baixas.nomePagador}" />
					</p:column>
					<p:column style="text-align: center;" headerText="Documento"  >
						<p:outputLabel value="#{baixas.documento}"  />
					</p:column>
					<p:column style="text-align: center;" headerText="Data Pagamento">					
						<p:cellEditor>
			                <f:facet name="output">
			                	<h:outputText value="#{baixas.dataPagamento}" >			            	
					            	<f:convertDateTime locale="pt_BR"  />
					            	<f:convertDateTime locale="pt_BR" pattern="dd/MM/yyyy"/>
					            </h:outputText>
			                </f:facet>
			                <f:facet name="input">
			                	<p:calendar
									value="#{baixas.dataPagamento}"
									label="Data" size="100" pattern="dd/MM/yyyy"
									styleClass="dateTimeField" />
			                </f:facet>
			            </p:cellEditor>			            
			        </p:column>	
			        <p:column style="text-align: center;"
						headerText="Valor">
						<p:cellEditor>
			                <f:facet name="output">
			                	<h:outputText value="#{baixas.valor}"
									converter="bigDecimalConverter">
								</h:outputText>
			                </f:facet>
			                <f:facet name="input">
			                	<p:inputText
									value="#{baixas.valor}"
									onkeypress="return isNumberKey(event);"
									onkeydown="FormataValor(this, 13, event, 2);" required="false"
									converter="bigDecimalConverter" />
			                </f:facet>
			            </p:cellEditor>							
					</p:column>

					<p:column style="text-align: center;" headerText="Forma de Pagamento"  >
						<p:outputLabel value="#{baixas.formaPagamento}" />
					</p:column>
					<p:column style="text-align: center;" headerText="ID Transação"  >
						<p:outputLabel value="#{baixas.idTransacao}"  />
					</p:column>
					<p:column style="text-align: center;" headerText="Status Pagamento"  >
						<p:outputLabel value="#{baixas.statusPagamento}" />
					</p:column>
					<p:column style="text-align: center;" headerText="Comentário"  >
			            <p:outputLabel value="#{baixas.comentario}" />					
					</p:column>
		
					<p:column style="width:35px" headerText="Editar Pagto.">
            			<p:rowEditor />
        			</p:column>
					<p:column style="text-align: center;width:260px;" headerText="Comprovante" >
						<p:commandButton value="Comprovante" ajax="false" icon="ui-icon-arrowthick-1-s" update=":form:messageContasPagar" rendered="#{baixas.statusPagamento eq 'Aprovado'}">						       	 	
				       	 	<p:fileDownload value="#{contratoCobrancaMB.getDownloadComprovanteStarkBank(baixas)}" />
				    	</p:commandButton>	
					</p:column>					
				</p:dataTable>
				
				<div align="center" style="margin-top: 20px;">
					<p:commandButton value="Fechar"
						icon="ui-icon-arrowreturnthick-1-w"
						oncomplete="PF('baixasStarkBankdlg').hide();" />
				</div>
			</h:form>
		</p:dialog>
		
		<p:dialog header="Arquivos da Conta" overflow="auto"
			widgetVar="contaArquivosdlg" resizable="true" style="FONT-SIZE: 13pt;"
			width="800" minWidth="800">
			<h:form id="contaArquivosForm">

				<p:panel id="UploadArquivos" header="Upload de Arquivo(s)"
					style="margin-bottom:10px;">
					<p:panel id="Arquivos" header="Selecionar Arquivo(s)"
						style="margin-bottom:10px;text-align: center;">
						<h:panelGrid columns="1">
						<!-- TODO arquivo contasPagar -->	<p:fileUpload label="Selecionar Arquivo(s)" uploadLabel="Salvar Arquivo(s)" multiple="true" cancelLabel="Cancelar"
								fileUploadListener="#{contratoCobrancaMB.handleFileContaPagarUpload}" mode="advanced" dragDropSupport="true" 
								update="contaArquivosForm" >
								<f:attribute name="foo" value="#{contratoCobrancaMB.contasPagarArquivos}" />
							</p:fileUpload>
						</h:panelGrid>
					</p:panel>

					<p:dialog modal="true" widgetVar="statusDialog" header="Status Downloading" draggable="false" closable="false" resizable="false">
						<p:graphicImage name="image/ajaxloadingbar.gif" />
					</p:dialog>

					<p:panel id="ArquivosSalvos" header="Arquivo(s) Salvo(s) no Contrato" style="margin-bottom:10px;">
						<h:panelGrid columns="1">
							<p:dataTable id="dtFiles" var="files"
								value="#{contratoCobrancaMB.contasPagarArquivos.filesContas}" rowKey="#{files.name}"
								selection="#{contratoCobrancaMB.deleteFilesContas}" emptyMessage=""
								sortBy="#{files.name}">
								<p:column selectionMode="multiple"
									style="width:16px;text-align:center" />
								<f:facet name="header">
									<p:commandButton value="Download Selecionado(s)" ajax="false"
										icon="ui-icon-arrowthick-1-s" immediate="true"
										action="#{contratoCobrancaMB.getDownloadAllFilesContaPagar()}">
									</p:commandButton>
									<p:commandButton value="Excluir Selecionado(s)" ajax="false"
										icon="ui-icon-trash" action="#{contratoCobrancaMB.deleteFile}" />
								</f:facet>

								<p:column style="text-align: center;"
									headerText="Nome do Arquivo" filterBy="#{files.name}"
									filterMatchMode="contains" sortBy="#{files.name}">
									<h:outputText value="#{files.name}" />
									<p:spacer height="10" />
									<p:commandButton value="Abrir" ajax="false"
										action="#{contratoCobrancaMB.viewFile(files)}"
										immediate="true" icon="ui-icon-search"
										onclick="target='_blank'" onblur="target='_self'">
									</p:commandButton>
								</p:column>

								<p:column style="width:100px;">
									<p:commandButton value="Download" ajax="false"
										
										icon="ui-icon-arrowthick-1-s">
										<f:setPropertyActionListener
											target="#{contratoCobrancaMB.selectedFile}" value="#{files}" />
										<p:fileDownload value="#{contratoCobrancaMB.downloadFile}" />
									</p:commandButton>
								</p:column>

								<f:facet name="footer">
									<p:commandButton value="Download Selecionado(s)" ajax="false"
										icon="ui-icon-arrowthick-1-s" immediate="true"
										action="#{contratoCobrancaMB.getDownloadAllFilesContaPagar()}">
									</p:commandButton>
									<p:commandButton value="Excluir Selecionado(s)" ajax="false"
										icon="ui-icon-trash" action="#{contratoCobrancaMB.deleteFile}" />
								</f:facet>
								<p:ajax event="rowSelectCheckbox" process="@this"
									listener="#{contratoCobrancaMB.fileSelectionListener()}" />
								<p:ajax event="rowUnselectCheckbox" process="@this"
									listener="#{contratoCobrancaMB.fileSelectionListener()}" />
								<p:ajax event="toggleSelect" process="@this"
									listener="#{contratoCobrancaMB.fileSelectionListener()}" />
							</p:dataTable>
						</h:panelGrid>
					</p:panel>
					<script type="text/javascript">
						function start() {
						    PF('statusDialog').show();
						}
						 
						function stop() {
						    PF('statusDialog').hide();
						}
					</script>
				</p:panel>

			</h:form>
		</p:dialog>

		
		<ui:include src="../../Dialog/DialogRecebedorPagador.xhtml">
			<ui:param name="mbean" value="#{contratoCobrancaMB}"></ui:param>
			<ui:param name="titulo" value="#{contratoCobrancaMB.tituloPagadorRecebedorDialog}"></ui:param>
			<ui:param name="permiteAdicionarPessoa" value="false"></ui:param>			
		</ui:include>
			 		
	</ui:define>
</ui:composition>
